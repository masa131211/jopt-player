<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<title>JOPT Player</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Source+Sans+3:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
<style>
  :root {
    --navy: #0A1628;
    --blue-900: #0C2340;
    --blue-800: #0F3460;
    --blue-700: #1456A0;
    --blue: #1A6FE8;
    --blue-400: #4A9AFF;
    --blue-300: #7BB8FF;
    --blue-200: #B3D7FF;
    --blue-100: #DCEEFF;
    --blue-50: #F0F7FF;
    --blue-light: #E8F0FA;
    --white: #FFFFFF;
    --bg: #F3F5F9;
    --bg-warm: #F8F9FC;
    --surface: rgba(255,255,255,0.82);
    --surface-solid: #FFFFFF;
    --border: #E1E6EF;
    --border-light: #EEF1F6;
    --text: #0B1222;
    --text-mid: #3B4A62;
    --text-muted: #8794A8;
    --text-faint: #B8C3D2;
    --green: #0D9B6A;
    --green-bg: #ECFDF5;
    --green-light: #D6F5EA;
    --red: #E53E3E;
    --red-light: #FEE2E2;
    --amber: #E8930C;
    --amber-light: #FEF3C7;
    --purple: #7C4DFF;
    --purple-light: #EDE7FF;
    --gold: #D4A21B;
    --gold-light: #FFF8E1;
    --shadow-xs: 0 1px 2px rgba(10,22,40,0.04);
    --shadow-sm: 0 2px 6px rgba(10,22,40,0.05), 0 1px 2px rgba(10,22,40,0.03);
    --shadow: 0 4px 16px rgba(10,22,40,0.06), 0 1px 4px rgba(10,22,40,0.03);
    --shadow-md: 0 8px 28px rgba(10,22,40,0.08), 0 2px 8px rgba(10,22,40,0.04);
    --shadow-lg: 0 20px 50px rgba(10,22,40,0.12);
    --radius: 16px;
    --radius-sm: 12px;
    --radius-xs: 8px;
    --radius-pill: 100px;
    --glass: rgba(255,255,255,0.72);
    --glass-border: rgba(255,255,255,0.3);
    --font-display: 'Outfit', sans-serif;
    --font-body: 'Source Sans 3', 'Hiragino Kaku Gothic ProN', sans-serif;
  }

  * { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }

  html, body {
    background: var(--bg);
    color: var(--text);
    font-family: var(--font-body);
    min-height: 100vh;
    max-width: 480px;
    margin: 0 auto;
    font-size: 14px;
    -webkit-font-smoothing: antialiased;
    letter-spacing: -0.005em;
    position: relative;
  }

  /* Subtle noise texture */
  body::after {
    content: '';
    position: fixed; inset: 0;
    pointer-events: none; z-index: 9999;
    opacity: 0.018;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
    background-size: 200px;
  }

  @keyframes fadeUp { from { opacity:0; transform:translateY(16px); } to { opacity:1; transform:translateY(0); } }
  @keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
  @keyframes scaleIn { from { opacity:0; transform:scale(0.88); } to { opacity:1; transform:scale(1); } }
  @keyframes slideIn { from { opacity:0; transform:translateX(-12px); } to { opacity:1; transform:translateX(0); } }

  /* â”€â”€ HEADER â”€â”€ */
  .header {
    position: sticky; top: 0; z-index: 100;
    background: linear-gradient(135deg, var(--navy) 0%, var(--blue-900) 100%);
    display: flex; align-items: center; justify-content: space-between;
    padding: 0 20px; height: 54px;
    box-shadow: 0 4px 20px rgba(10,22,40,0.35);
  }
  .header-logo {
    font-family: var(--font-display); font-size: 22px; font-weight: 800;
    letter-spacing: 5px; color: white; text-transform: uppercase;
  }
  .header-back { color: rgba(255,255,255,0.55); font-size: 13px; display: flex; align-items: center; gap: 4px; font-weight: 500; }
  .header-share {
    color: rgba(255,255,255,0.55); font-size: 20px; line-height: 1;
    width: 38px; height: 38px; display: flex; align-items: center; justify-content: center;
    border-radius: var(--radius-xs); transition: all 0.2s; cursor: pointer;
  }
  .header-share:active { background: rgba(255,255,255,0.08); color: white; }

  /* â”€â”€ HERO â”€â”€ */
  .hero { background: var(--surface-solid); border-bottom: 1px solid var(--border-light); }
  .hero-band {
    background: linear-gradient(145deg, var(--navy) 0%, var(--blue-900) 40%, var(--blue-800) 100%);
    padding: 22px 20px 58px; position: relative; overflow: hidden;
  }
  .hero-band::before {
    content: 'â™ '; position: absolute; right: -20px; top: -30px;
    font-size: 180px; color: rgba(255,255,255,0.025); line-height: 1; pointer-events: none;
  }
  .hero-band::after {
    content: ''; position: absolute; left: 0; bottom: 0; right: 0; height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.08), transparent);
  }
  .hero-top { display: flex; gap: 16px; align-items: flex-start; animation: fadeUp 0.5s ease both; }
  .avatar {
    width: 70px; height: 70px; border-radius: 20px;
    background: rgba(255,255,255,0.08); border: 2px solid rgba(255,255,255,0.2);
    backdrop-filter: blur(8px); display: flex; align-items: center; justify-content: center;
    font-family: var(--font-display); font-size: 24px; font-weight: 700; color: white;
    flex-shrink: 0; position: relative; cursor: pointer;
    transition: transform 0.2s, border-color 0.2s;
    box-shadow: 0 4px 16px rgba(0,0,0,0.2);
  }
  .avatar:active { transform: scale(0.95); border-color: rgba(255,255,255,0.4); }
  .rank-badge {
    position: absolute; bottom: -4px; right: -4px;
    background: linear-gradient(135deg, var(--gold) 0%, #F5C842 100%);
    color: var(--navy); font-family: var(--font-display);
    font-weight: 800; font-size: 9px;
    width: 24px; height: 24px; border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    border: 2.5px solid var(--blue-900);
    box-shadow: 0 2px 8px rgba(212,162,27,0.4);
  }
  .hero-info { flex: 1; padding-top: 3px; }
  .hero-info h1 {
    font-family: var(--font-display); font-size: 21px; font-weight: 700;
    letter-spacing: 0.5px; text-transform: uppercase;
    color: white; margin-bottom: 3px; line-height: 1.15;
  }
  .hero-info .sub { font-size: 11.5px; color: rgba(255,255,255,0.4); margin-bottom: 10px; font-weight: 400; }
  .tags { display: flex; gap: 6px; flex-wrap: wrap; }
  .tag {
    padding: 3px 9px; border: 1px solid rgba(255,255,255,0.15);
    border-radius: 6px; font-size: 9.5px; letter-spacing: 0.8px; text-transform: uppercase;
    color: rgba(255,255,255,0.7); background: rgba(255,255,255,0.06);
    font-weight: 600; backdrop-filter: blur(4px);
  }
  .tag.gray { border-color: rgba(255,255,255,0.08); color: rgba(255,255,255,0.35); background: transparent; }
  .tag.gold { border-color: rgba(212,162,27,0.4); color: var(--gold); background: rgba(212,162,27,0.08); }

  /* GameID card */
  .gameid-card {
    margin: -38px 16px 0; background: var(--surface-solid);
    border-radius: var(--radius); border: 1px solid var(--border);
    box-shadow: var(--shadow-md); padding: 15px 18px;
    position: relative; z-index: 2; cursor: pointer;
    transition: transform 0.15s, box-shadow 0.15s;
    animation: fadeUp 0.6s ease 0.1s both;
  }
  .gameid-card:active { transform: scale(0.98); box-shadow: var(--shadow-sm); }
  .gameid-card-inner { display: flex; align-items: center; gap: 14px; }
  .gameid-icon {
    width: 44px; height: 44px; border-radius: var(--radius-sm);
    background: linear-gradient(135deg, var(--navy), var(--blue-800));
    display: flex; align-items: center; justify-content: center;
    font-size: 20px; flex-shrink: 0; box-shadow: 0 2px 8px rgba(10,22,40,0.2);
  }
  .gameid-main { flex: 1; min-width: 0; }
  .gameid-label {
    font-size: 9px; letter-spacing: 2.5px; text-transform: uppercase;
    color: var(--text-muted); margin-bottom: 3px;
    display: flex; align-items: center; gap: 6px; font-weight: 600;
  }
  .gameid-verified { background: var(--green); color: white; font-size: 8px; padding: 1.5px 6px; border-radius: 4px; letter-spacing: 0.5px; font-weight: 700; }
  .gameid-number { font-family: var(--font-display); font-size: 22px; font-weight: 700; letter-spacing: 2px; color: var(--text); line-height: 1; }
  .gameid-balance-col { text-align: right; flex-shrink: 0; }
  .gameid-balance-label { font-size: 9px; letter-spacing: 1.5px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 2px; font-weight: 600; }
  .gameid-balance-val { font-family: var(--font-display); font-size: 20px; font-weight: 700; color: var(--green); line-height: 1; }
  .gameid-balance-unit { font-size: 11px; color: var(--green); }
  .gameid-arrow { color: var(--text-faint); font-size: 18px; margin-left: 4px; }

  .kpi-row {
    display: flex; overflow-x: auto; scrollbar-width: none;
    padding: 16px 0 18px; gap: 0;
    border-top: 1px solid var(--border-light); margin-top: 16px;
  }
  .kpi-row::-webkit-scrollbar { display: none; }
  .kpi { flex-shrink: 0; text-align: center; padding: 0 20px; border-right: 1px solid var(--border-light); }
  .kpi:first-child { padding-left: 18px; }
  .kpi:last-child { border-right: none; }
  .kpi-label { font-size: 9.5px; letter-spacing: 1.5px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 4px; white-space: nowrap; font-weight: 600; }
  .kpi-value { font-family: var(--font-display); font-size: 21px; font-weight: 700; white-space: nowrap; letter-spacing: 0.3px; }
  .kpi-value.blue { color: var(--blue); }
  .kpi-value.green { color: var(--green); }

  /* â”€â”€ TAB NAV â”€â”€ */
  .tab-nav {
    position: sticky; top: 54px; z-index: 90;
    background: var(--white);
    display: flex; border-bottom: 1px solid var(--border-light);
    overflow-x: auto; scrollbar-width: none;
  }
  .tab-nav::-webkit-scrollbar { display: none; }
  .tab-nav-item {
    flex-shrink: 0; padding: 13px 17px;
    font-size: 12px; letter-spacing: 0.5px; text-transform: uppercase;
    color: var(--text-muted); cursor: pointer;
    border-bottom: 2.5px solid transparent; margin-bottom: -1px;
    transition: all 0.2s ease; font-weight: 600;
    font-family: var(--font-display);
  }
  .tab-nav-item:active { background: rgba(26,111,232,0.04); }
  .tab-nav-item.active { color: var(--blue); border-bottom-color: var(--blue); }

  .section { display: none; padding-top: 4px; }
  .section.active { display: block; animation: fadeIn 0.25s ease; }

  .card {
    background: var(--surface-solid); border-radius: var(--radius);
    margin: 14px 14px 0; box-shadow: var(--shadow-sm);
    overflow: hidden; border: 1px solid var(--border-light);
  }
  .card:last-child { margin-bottom: 24px; }
  .card-header {
    padding: 16px 18px 0; font-family: var(--font-display);
    font-size: 12px; letter-spacing: 2px; text-transform: uppercase;
    color: var(--text-muted); display: flex; align-items: center; gap: 10px; font-weight: 600;
  }
  .card-header .bar {
    width: 3px; height: 14px;
    background: linear-gradient(180deg, var(--blue) 0%, var(--blue-400) 100%);
    border-radius: 2px; flex-shrink:0;
  }

  /* Stats Grid */
  .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1px; background: var(--border-light); margin-top: 14px; }
  .stat-cell { background: white; padding: 16px 18px; text-align: center; transition: background 0.15s; }
  .stat-cell:active { background: var(--blue-50); }
  .stat-val { font-family: var(--font-display); font-size: 28px; font-weight: 700; margin-bottom: 3px; letter-spacing: 0.3px; }
  .stat-val.blue { color: var(--blue); }
  .stat-val.green { color: var(--green); }
  .stat-val.red { color: var(--red); }
  .jopt-rank-badge {
    font-family: var(--font-display); font-size: 28px; font-weight: 800;
    width: 46px; height: 46px; border-radius: var(--radius-sm);
    display: flex; align-items: center; justify-content: center;
    margin: 0 auto 3px;
    background: linear-gradient(135deg, var(--gold), #F5C842);
    color: white; box-shadow: 0 3px 10px rgba(212,162,27,0.35);
    letter-spacing: 1px; text-shadow: 0 1px 2px rgba(0,0,0,0.15);
  }
  .stat-lbl { font-size: 9.5px; letter-spacing: 1.5px; text-transform: uppercase; color: var(--text-muted); font-weight: 600; }

  .stats-rank-list { padding: 6px 18px 18px; display: flex; flex-direction: column; gap: 16px; }
  .stats-rank-row { display: flex; align-items: center; gap: 12px; animation: slideIn 0.4s ease both; }
  .stats-rank-row:nth-child(1) { animation-delay: 0.05s; }
  .stats-rank-row:nth-child(2) { animation-delay: 0.1s; }
  .stats-rank-row:nth-child(3) { animation-delay: 0.15s; }
  .stats-rank-label { font-size: 12px; color: var(--text-muted); width: 64px; flex-shrink: 0; font-weight: 500; }
  .stats-rank-bar-wrap { flex: 1; height: 7px; background: var(--bg); border-radius: 4px; overflow: hidden; }
  .stats-rank-bar { height: 100%; background: linear-gradient(90deg, var(--blue) 0%, var(--blue-400) 100%); border-radius: 4px; opacity: 0.7; transition: width 0.8s cubic-bezier(0.22, 1, 0.36, 1); }
  .stats-rank-val { display: flex; align-items: baseline; gap: 4px; flex-shrink: 0; }
  .stats-rank-pos { font-family: var(--font-display); font-size: 22px; font-weight: 700; color: var(--blue); }
  .stats-rank-total { font-size: 10px; color: var(--text-muted); font-weight: 500; }

  /* Ranking Board */
  .rank-type-row {
    display: flex; gap: 0; margin: 14px 14px 0;
    border: 1px solid var(--border); border-radius: var(--radius-sm); overflow: hidden;
    background: white; box-shadow: var(--shadow-xs);
  }
  .rank-type-btn {
    flex: 1; text-align: center; padding: 11px 4px;
    font-size: 11.5px; font-weight: 600; color: var(--text-muted);
    cursor: pointer; background: white; border: none;
    border-right: 1px solid var(--border-light); transition: all 0.2s;
    font-family: var(--font-display); letter-spacing: 0.3px;
  }
  .rank-type-btn:last-child { border-right: none; }
  .rank-type-btn:active { background: var(--blue-50); }
  .rank-type-btn.active { background: linear-gradient(135deg, var(--blue) 0%, var(--blue-700) 100%); color: white; }

  .rank-my-banner {
    margin: 14px 14px 0; background: linear-gradient(135deg, var(--blue-50) 0%, var(--blue-100) 100%);
    border-radius: var(--radius-sm); padding: 14px 18px; display: flex; align-items: center; gap: 12px;
    border-left: 4px solid var(--blue); box-shadow: var(--shadow-xs);
  }
  .rank-my-banner-label { font-size: 12px; color: var(--blue); font-weight: 600; }
  .rank-my-banner-rank { font-family: var(--font-display); font-size: 30px; font-weight: 700; color: var(--blue); margin-left: auto; letter-spacing: 0.5px; }
  .rank-my-banner-sub { font-size: 11px; color: var(--text-muted); }

  .rank-board { margin: 10px 14px 0; background: white; border-radius: var(--radius); border: 1px solid var(--border-light); overflow: hidden; box-shadow: var(--shadow-sm); }
  .rank-list-header {
    display: grid; grid-template-columns: 44px 1fr 68px;
    padding: 10px 16px; background: var(--bg-warm);
    font-size: 10px; color: var(--text-muted); letter-spacing: 1px; text-transform: uppercase;
    border-bottom: 1px solid var(--border-light); font-weight: 600; font-family: var(--font-display);
  }
  .rank-list-header span:last-child { text-align: right; }
  .rank-row-item {
    display: grid; grid-template-columns: 44px 1fr 68px;
    align-items: center; padding: 13px 16px;
    border-bottom: 1px solid var(--border-light); background: white; transition: background 0.15s;
  }
  .rank-row-item:last-child { border-bottom: none; }
  .rank-row-item:active { background: var(--blue-50); }
  .rank-row-item.rank-me { background: linear-gradient(90deg, var(--blue-50) 0%, rgba(240,247,255,0.4) 100%); }
  .rank-pos-cell { font-family: var(--font-display); font-size: 16px; font-weight: 700; color: var(--text-muted); }
  .rank-pos-cell.medal { font-size: 22px; }
  .rank-info-cell { display: flex; flex-direction: column; gap: 2px; }
  .rank-info-name { font-size: 13px; font-weight: 700; color: var(--text); display: flex; align-items: center; gap: 7px; }
  .rank-you-badge {
    font-size: 9px; font-weight: 700; letter-spacing: 0.8px;
    background: linear-gradient(135deg, var(--blue) 0%, var(--blue-700) 100%);
    color: white; padding: 2px 7px; border-radius: 5px;
    box-shadow: 0 1px 4px rgba(26,111,232,0.25); font-family: var(--font-display);
  }
  .rank-info-sub { font-size: 11px; color: var(--text-muted); }
  .rank-val-cell { font-family: var(--font-display); font-size: 18px; font-weight: 700; color: var(--text); text-align: right; letter-spacing: 0.3px; }
  .rank-row-item.rank-me .rank-val-cell { color: var(--blue); }
  .rank-row-item.rank-me .rank-info-name { color: var(--blue); }

  /* Wins */
  .win-list { padding: 14px 14px 18px; display: flex; flex-direction: column; gap: 12px; }
  .win-item {
    display: flex; align-items: center; gap: 14px;
    background: var(--bg-warm); border-radius: var(--radius-sm);
    padding: 16px; border-left: 4px solid var(--blue);
    box-shadow: var(--shadow-xs); transition: transform 0.15s, box-shadow 0.15s;
    animation: fadeUp 0.5s ease both;
  }
  .win-item:nth-child(1) { animation-delay: 0.05s; }
  .win-item:nth-child(2) { animation-delay: 0.1s; }
  .win-item:nth-child(3) { animation-delay: 0.15s; }
  .win-item:active { transform: scale(0.985); box-shadow: var(--shadow); }
  .win-item.gold { border-left-color: var(--gold); background: linear-gradient(135deg, #FFFDF5 0%, var(--gold-light) 100%); }
  .win-item.orange { border-left-color: #CC5500; background: linear-gradient(135deg, #FFF9F0 0%, #FFEDD5 100%); }
  .win-trophy { flex-shrink: 0; }
  .win-trophy svg { width: 48px; height: 58px; }
  .win-body { flex: 1; min-width: 0; }
  .win-title-row { display: flex; justify-content: space-between; align-items: flex-start; gap: 8px; margin-bottom: 3px; }
  .win-event { font-size: 13px; font-weight: 700; line-height: 1.3; }
  .win-prize { font-family: var(--font-display); font-size: 17px; font-weight: 700; color: var(--green); flex-shrink: 0; }
  .win-meta { font-size: 11px; color: var(--text-muted); }

  /* History */
  .hist-filter {
    display: flex; overflow-x: auto; scrollbar-width: none;
    gap: 8px; padding: 14px 18px; border-bottom: 1px solid var(--border-light);
  }
  .hist-filter::-webkit-scrollbar { display: none; }
  .filter-chip {
    flex-shrink: 0; padding: 7px 15px; border-radius: var(--radius-pill);
    border: 1px solid var(--border); font-size: 12px;
    color: var(--text-muted); cursor: pointer; transition: all 0.2s; background: white; font-weight: 500;
  }
  .filter-chip:active { transform: scale(0.95); }
  .filter-chip.active {
    background: linear-gradient(135deg, var(--blue) 0%, var(--blue-700) 100%);
    border-color: var(--blue); color: white; box-shadow: 0 2px 10px rgba(26,111,232,0.25);
  }
  .hist-list { padding: 0 14px 24px; }
  .hist-item {
    display: flex; align-items: center; gap: 14px;
    padding: 14px 6px; border-bottom: 1px solid var(--border-light); transition: background 0.15s;
  }
  .hist-item:active { background: var(--blue-50); border-radius: var(--radius-xs); }
  .hist-item:last-child { border-bottom: none; }
  .hist-finish-box { flex-shrink: 0; width: 46px; text-align: center; }
  .finish-num { font-family: var(--font-display); font-size: 20px; font-weight: 700; line-height: 1; }
  .finish-num.win { color: var(--blue); }
  .finish-num.itm { color: var(--green); }
  .finish-num.bust { color: var(--text-faint); }
  .finish-lbl { font-size: 9px; letter-spacing: 1.2px; text-transform: uppercase; color: var(--text-muted); font-weight: 600; margin-top: 2px; }
  .hist-body { flex: 1; min-width: 0; }
  .hist-name { font-size: 13px; font-weight: 700; margin-bottom: 3px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  .hist-date { font-size: 11px; color: var(--text-muted); }
  .hist-right { flex-shrink: 0; text-align: right; }
  .hist-prize { font-family: var(--font-display); font-size: 14px; font-weight: 600; }
  .hist-prize.pos { color: var(--green); }
  .hist-prize.neg { color: var(--text-muted); }
  .hist-buyin { font-size: 10px; color: var(--text-muted); margin-top: 2px; }

  /* Bottom Nav */
  .bottom-nav {
    position: fixed; bottom: 0; left: 50%; transform: translateX(-50%);
    width: 100%; max-width: 480px;
    background: var(--white);
    border-top: 1px solid var(--border-light);
    display: flex; height: 62px; z-index: 200;
    box-shadow: 0 -6px 24px rgba(10,22,40,0.04);
    padding-bottom: env(safe-area-inset-bottom, 0);
  }
  .bottom-nav-item {
    flex: 1 1 0; min-width: 0; display: flex; flex-direction: column; align-items: center; justify-content: center;
    gap: 3px; font-size: 9px; letter-spacing: 0.3px;
    color: var(--text-muted); cursor: pointer; transition: color 0.2s;
    font-weight: 600; position: relative; font-family: var(--font-display);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  }
  .bottom-nav-item:active { color: var(--blue); }
  .bottom-nav-item.active { color: var(--blue); }
  .bottom-nav-item.active::before {
    content: ''; position: absolute; top: 0;
    width: 28px; height: 2.5px; background: var(--blue); border-radius: 0 0 2px 2px;
  }
  .bottom-nav-item .icon { font-size: 20px; line-height: 1; }
  .nav-spacer { height: 78px; }

  /* â”€â”€ EVENTS TAB â”€â”€ */
  .ev-banner {
    background: linear-gradient(145deg, var(--navy) 0%, var(--blue-800) 50%, var(--blue-700) 100%);
    color: white; padding: 22px 20px 20px; position: relative; overflow: hidden;
  }
  .ev-banner::after { content: 'â™ '; position: absolute; right: -20px; top: -12px; font-size: 130px; color: rgba(255,255,255,0.02); line-height: 1; pointer-events: none; }
  .ev-banner-title { font-family: var(--font-display); font-size: 24px; font-weight: 800; letter-spacing: 2px; line-height: 1.2; }
  .ev-banner-sub { font-size: 12px; color: rgba(255,255,255,0.5); margin-top: 5px; }
  .ev-banner-meta { display: flex; gap: 16px; margin-top: 12px; font-size: 12px; color: rgba(255,255,255,0.7); }

  .ev-filter-bar {
    background: var(--glass); backdrop-filter: blur(12px);
    border-bottom: 1px solid var(--border-light);
    display: flex; overflow-x: auto; scrollbar-width: none; padding: 12px 14px; gap: 8px;
  }
  .ev-filter-bar::-webkit-scrollbar { display: none; }
  .ev-chip {
    flex-shrink: 0; padding: 7px 15px; border-radius: var(--radius-pill);
    border: 1px solid var(--border); font-size: 12px; font-weight: 500;
    color: var(--text-muted); cursor: pointer; background: white; transition: all 0.2s;
  }
  .ev-chip:active { transform: scale(0.95); }
  .ev-chip.active { background: linear-gradient(135deg, var(--blue) 0%, var(--blue-700) 100%); border-color: var(--blue); color: white; box-shadow: 0 2px 10px rgba(26,111,232,0.25); }

  .ev-day-hd {
    display: flex; align-items: center; gap: 10px; padding: 18px 18px 10px;
    font-family: var(--font-display); font-size: 12px;
    letter-spacing: 2px; text-transform: uppercase; color: var(--text-muted); font-weight: 600;
  }
  .ev-day-hd::after { content: ''; flex: 1; height: 1px; background: var(--border-light); }

  .ev-card {
    background: white; margin: 0 14px 8px;
    border-radius: var(--radius-sm); border: 1px solid var(--border-light);
    overflow: hidden; cursor: pointer; transition: transform 0.15s, box-shadow 0.15s;
    border-left: 4px solid var(--border);
  }
  .ev-card:active { transform: scale(0.985); box-shadow: var(--shadow); }
  .ev-card.is-main { border-left-color: var(--blue); }
  .ev-card.is-satellite { border-left-color: var(--amber); }
  .ev-card.is-hr { border-left-color: var(--purple); }

  .ev-card-inner { display: flex; align-items: center; padding: 14px 16px; gap: 12px; }
  .ev-num {
    flex-shrink: 0; width: 40px; height: 40px; border-radius: var(--radius-xs);
    background: var(--blue-50); display: flex; align-items: center; justify-content: center;
    font-family: var(--font-display); font-size: 13px; font-weight: 700; color: var(--blue);
  }
  .ev-num.main { background: linear-gradient(135deg, var(--blue) 0%, var(--blue-700) 100%); color: white; }
  .ev-num.sat { background: var(--amber-light); color: #92400E; }
  .ev-num.hr  { background: var(--purple-light); color: #6D28D9; }
  .ev-num.plo { background: var(--green-light); color: #065F46; }
  .ev-num.fl  { background: var(--red-light); color: #991B1B; }
  .ev-body { flex: 1; min-width: 0; }
  .ev-name { font-size: 13px; font-weight: 700; margin-bottom: 4px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
  .ev-time-row { display: flex; align-items: center; gap: 6px; flex-wrap: wrap; }
  .ev-time { font-size: 11px; color: var(--text-muted); }
  .ev-badge { font-size: 9px; padding: 2px 7px; border-radius: 5px; font-weight: 700; letter-spacing: 0.5px; text-transform: uppercase; font-family: var(--font-display); }
  .ev-badge.nlh { background: var(--blue-100); color: var(--blue-700); }
  .ev-badge.plo { background: var(--green-light); color: #065F46; }
  .ev-badge.fl  { background: var(--red-light); color: #991B1B; }
  .ev-badge.sat { background: var(--amber-light); color: #92400E; }
  .ev-badge.hr  { background: var(--purple-light); color: #6D28D9; }
  .ev-right { flex-shrink: 0; text-align: right; }
  .ev-fee { font-family: var(--font-display); font-size: 16px; font-weight: 700; letter-spacing: 0.3px; }
  .ev-chips { font-size: 10px; color: var(--text-muted); margin-top: 2px; }

  /* Sheet */
  .ev-overlay { display: none; position: fixed; inset: 0; z-index: 300; background: rgba(10,22,40,0.55); align-items: flex-end; backdrop-filter: blur(4px); }
  .ev-overlay.open { display: flex; }
  .ev-sheet {
    background: white; border-radius: 24px 24px 0 0;
    width: 100%; max-width: 480px; margin: 0 auto;
    max-height: 92vh; overflow-y: auto; padding-bottom: 32px;
    animation: evUp 0.3s cubic-bezier(0.22, 1, 0.36, 1);
    box-shadow: 0 -10px 50px rgba(10,22,40,0.2);
  }
  @keyframes evUp { from{transform:translateY(60px);opacity:0} to{transform:translateY(0);opacity:1} }
  .ev-handle { width: 40px; height: 4px; background: var(--border); border-radius: 2px; margin: 14px auto 20px; }
  .ev-sheet-header { padding: 0 20px 16px; border-bottom: 1px solid var(--border-light); }
  .ev-sheet-num { font-family: var(--font-display); font-size: 11px; letter-spacing: 2.5px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 5px; font-weight: 600; }
  .ev-sheet-title { font-family: var(--font-display); font-size: 22px; font-weight: 700; letter-spacing: 0.3px; }
  .ev-meta-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 16px 20px; }
  .ev-meta-box { background: var(--bg-warm); border-radius: var(--radius-sm); padding: 14px; border: 1px solid var(--border-light); }
  .ev-meta-label { font-size: 10px; letter-spacing: 1.5px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 6px; font-weight: 600; }
  .ev-meta-val { font-family: var(--font-display); font-size: 22px; font-weight: 700; letter-spacing: 0.3px; }
  .ev-meta-val.blue { color: var(--blue); }
  .ev-meta-val.green { color: var(--green); }
  .ev-section-hd { font-family: var(--font-display); font-size: 11px; letter-spacing: 2.5px; text-transform: uppercase; color: var(--text-muted); display: flex; align-items: center; gap: 8px; font-weight: 600; margin-bottom: 10px; }
  .ev-section-hd::after { content: ''; flex: 1; height: 1px; background: var(--border-light); }
  .ev-note-item { display: flex; gap: 10px; margin-bottom: 8px; font-size: 12.5px; color: var(--text-mid); line-height: 1.6; }
  .ev-note-dot { flex-shrink: 0; width: 5px; height: 5px; background: var(--blue); border-radius: 50%; margin-top: 7px; opacity: 0.5; }
  .ev-btn-entry {
    width: 100%; padding: 16px;
    background: linear-gradient(135deg, var(--blue) 0%, var(--blue-700) 100%);
    color: white; border: none; border-radius: var(--radius-sm);
    font-family: var(--font-display); font-size: 16px; font-weight: 700;
    letter-spacing: 1.5px; cursor: pointer; box-shadow: 0 4px 16px rgba(26,111,232,0.3);
    transition: transform 0.15s, box-shadow 0.15s; text-transform: uppercase;
  }
  .ev-btn-entry:active { transform: scale(0.98); box-shadow: 0 2px 8px rgba(26,111,232,0.2); }
  .ev-entry-note { text-align: center; font-size: 11px; color: var(--text-muted); margin-top: 10px; }
  .ev-form-group { margin-bottom: 16px; }
  .ev-form-label { display: block; font-size: 11px; letter-spacing: 1px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 7px; font-weight: 600; font-family: var(--font-display); }
  .ev-form-input {
    width: 100%; padding: 13px 16px; border: 1.5px solid var(--border); border-radius: var(--radius-xs);
    font-size: 14px; font-family: var(--font-body); color: var(--text); -webkit-appearance: none;
    transition: border-color 0.2s, box-shadow 0.2s; background: white;
  }
  .ev-form-input:focus { outline: none; border-color: var(--blue); box-shadow: 0 0 0 4px rgba(26,111,232,0.08); }
  .ev-fee-box { background: var(--blue-50); border-radius: var(--radius-sm); padding: 16px; margin-bottom: 16px; border: 1px solid var(--blue-100); }
  .ev-fee-row { display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 6px; }
  .ev-fee-row:last-child { font-weight: 700; font-size: 16px; margin-top: 10px; padding-top: 10px; border-top: 1px solid var(--blue-200); margin-bottom: 0; }
  .ev-fee-row .fval { font-family: var(--font-display); font-weight: 700; }
  .ev-btn-confirm {
    width: 100%; padding: 16px;
    background: linear-gradient(135deg, var(--green) 0%, #0A8B5E 100%);
    color: white; border: none; border-radius: var(--radius-sm);
    font-family: var(--font-display); font-size: 16px; font-weight: 700;
    letter-spacing: 1px; cursor: pointer; margin-bottom: 10px;
    box-shadow: 0 4px 16px rgba(13,155,106,0.3); transition: transform 0.15s; text-transform: uppercase;
  }
  .ev-btn-confirm:active { transform: scale(0.98); }
  .ev-btn-back { width: 100%; padding: 13px; background: transparent; color: var(--text-muted); border: 1px solid var(--border); border-radius: var(--radius-sm); font-size: 13px; cursor: pointer; transition: background 0.15s; }
  .ev-btn-back:active { background: var(--bg); }

  .pay-options { display: flex; flex-direction: column; gap: 8px; }
  .pay-option { display: flex; align-items: center; gap: 14px; padding: 14px 16px; border-radius: var(--radius-sm); border: 1.5px solid var(--border); background: white; cursor: pointer; transition: all 0.15s; }
  .pay-option.active { border-color: var(--blue); background: var(--blue-50); }
  .pay-option.disabled { opacity: 0.5; cursor: not-allowed; background: var(--bg); }
  .pay-icon { font-size: 22px; flex-shrink: 0; }
  .pay-body { flex: 1; min-width: 0; }
  .pay-name { font-size: 14px; font-weight: 700; color: var(--text); margin-bottom: 2px; }
  .pay-desc { font-size: 11px; color: var(--text-muted); }
  .pay-check { width: 24px; height: 24px; border-radius: 50%; border: 2px solid var(--border); flex-shrink: 0; display: flex; align-items: center; justify-content: center; font-size: 11px; font-weight: 700; color: transparent; transition: all 0.15s; }
  .pay-check.active { background: var(--blue); border-color: var(--blue); color: white; }
  .pay-badge-soon { font-size: 9px; letter-spacing: 1px; padding: 3px 8px; border-radius: 5px; background: var(--bg); color: var(--text-muted); border: 1px solid var(--border); flex-shrink: 0; font-family: var(--font-display); font-weight: 600; }

  /* â”€â”€ LIVE MONITOR â”€â”€ */
  .live-header {
    background: linear-gradient(135deg, #060B14 0%, var(--navy) 100%);
    padding: 20px; display: flex; justify-content: space-between; align-items: flex-start;
  }
  .live-dot-wrap { display: flex; align-items: center; gap: 7px; font-family: var(--font-display); font-size: 12px; letter-spacing: 3px; color: #EF4444; margin-bottom: 8px; font-weight: 700; }
  .live-dot { width: 8px; height: 8px; border-radius: 50%; background: #EF4444; box-shadow: 0 0 0 3px rgba(239,68,68,0.2); animation: livePulse 1.4s ease-in-out infinite; }
  @keyframes livePulse { 0%,100% { box-shadow: 0 0 0 3px rgba(239,68,68,0.2); } 50% { box-shadow: 0 0 0 8px rgba(239,68,68,0.04); } }
  .live-title { font-family: var(--font-display); font-size: 22px; font-weight: 700; color: white; letter-spacing: 0.5px; }
  .live-sub { font-size: 11px; color: rgba(255,255,255,0.3); margin-top: 3px; }
  .live-header-right { text-align: right; flex-shrink: 0; }
  .live-update-label { font-size: 9px; color: rgba(255,255,255,0.25); letter-spacing: 2px; text-transform: uppercase; font-weight: 600; }
  .live-update-time { font-family: var(--font-display); font-size: 18px; color: var(--blue-300); font-weight: 700; letter-spacing: 1px; }

  .live-mystack {
    background: linear-gradient(145deg, var(--blue) 0%, var(--blue-800) 100%);
    margin: 14px; border-radius: 20px; padding: 24px;
    position: relative; overflow: hidden; box-shadow: 0 8px 28px rgba(26,111,232,0.25);
  }
  .live-mystack::before { content: 'â™£'; position: absolute; right: -8px; top: -20px; font-size: 130px; color: rgba(255,255,255,0.03); line-height: 1; }
  .live-mystack-label { font-family: var(--font-display); font-size: 11px; letter-spacing: 4px; color: rgba(255,255,255,0.45); margin-bottom: 6px; font-weight: 600; }
  .live-mystack-chips { font-family: var(--font-display); font-size: 48px; font-weight: 800; color: white; line-height: 1.1; letter-spacing: 1px; }
  .live-mystack-meta { font-size: 12px; color: rgba(255,255,255,0.5); margin-top: 6px; display: flex; gap: 6px; }
  .live-mystack-sep { color: rgba(255,255,255,0.2); }
  .live-stack-bar-wrap { height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; margin: 18px 0 8px; overflow: hidden; }
  .live-stack-bar { height: 100%; background: linear-gradient(90deg, var(--blue-300) 0%, #60A5FA 100%); border-radius: 4px; transition: width 0.8s cubic-bezier(0.22, 1, 0.36, 1); }
  .live-stack-bar-labels { display: flex; justify-content: space-between; font-size: 10px; color: rgba(255,255,255,0.35); font-family: var(--font-display); font-weight: 500; }

  .live-metrics-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin: 0 14px 14px; }
  .live-metric-box { background: white; border-radius: var(--radius); padding: 16px 12px; border: 1px solid var(--border-light); text-align: center; box-shadow: var(--shadow-xs); }
  .live-metric-label { font-size: 10px; color: var(--text-muted); margin-bottom: 6px; font-weight: 500; }
  .live-metric-val { font-family: var(--font-display); font-size: 28px; font-weight: 700; color: var(--text); line-height: 1; }
  .live-metric-val.green { color: var(--green); }
  .live-metric-sub { font-size: 9px; color: var(--text-muted); margin-top: 4px; font-weight: 500; }

  .live-blind-card {
    background: linear-gradient(145deg, #060B14 0%, var(--navy) 100%);
    margin: 0 14px 14px; border-radius: 20px; padding: 24px; border: 1px solid rgba(255,255,255,0.04);
  }
  .live-blind-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
  .live-blind-level-label { font-size: 10px; letter-spacing: 3px; color: rgba(255,255,255,0.3); text-transform: uppercase; font-weight: 600; }
  .live-blind-level { font-family: var(--font-display); font-size: 28px; font-weight: 700; color: white; }
  .live-clock-wrap { position: relative; width: 66px; height: 66px; }
  .live-clock-svg { width: 66px; height: 66px; }
  .live-clock-text { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; font-family: var(--font-display); font-size: 14px; font-weight: 700; color: var(--blue-300); }
  .live-blind-values { display: flex; align-items: center; gap: 8px; margin-bottom: 16px; }
  .live-blind-box { flex: 1; text-align: center; }
  .live-blind-tag { font-size: 10px; letter-spacing: 2px; color: rgba(255,255,255,0.3); margin-bottom: 5px; font-weight: 600; }
  .live-blind-num { font-family: var(--font-display); font-size: 24px; font-weight: 700; color: white; }
  .live-blind-sep { color: rgba(255,255,255,0.12); font-size: 20px; }
  .live-blind-next { background: rgba(255,255,255,0.04); border-radius: var(--radius-xs); padding: 11px 14px; font-size: 12px; color: rgba(255,255,255,0.45); display: flex; gap: 8px; font-family: var(--font-display); font-weight: 500; border: 1px solid rgba(255,255,255,0.04); }
  .live-blind-next-label { color: rgba(255,255,255,0.2); font-weight: 600; }

  .live-level-card, .live-stack-dist-card { background: white; margin: 0 14px 14px; border-radius: var(--radius); padding: 18px; border: 1px solid var(--border-light); box-shadow: var(--shadow-xs); }
  .live-section-title { font-family: var(--font-display); font-size: 12px; letter-spacing: 2.5px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 14px; display: flex; align-items: center; gap: 8px; font-weight: 600; }
  .live-section-title::after { content: ''; flex: 1; height: 1px; background: var(--border-light); }
  .live-level-list { display: flex; flex-direction: column; gap: 3px; }
  .live-level-row { display: flex; align-items: center; gap: 10px; padding: 10px 12px; border-radius: var(--radius-xs); font-size: 12px; transition: background 0.15s; }
  .live-level-row.current { background: var(--blue-50); border: 1px solid var(--blue-100); }
  .live-level-row.done { opacity: 0.3; }
  .live-level-row.upcoming { color: var(--text-muted); }
  .live-level-lv { font-family: var(--font-display); font-size: 14px; font-weight: 700; color: var(--blue); width: 52px; flex-shrink: 0; }
  .live-level-row.done .live-level-lv { color: var(--text-muted); }
  .live-level-blinds { flex: 1; color: var(--text-mid); font-family: var(--font-display); font-size: 12px; font-weight: 500; }
  .live-level-time { font-size: 11px; color: var(--text-muted); }
  .live-level-tag { font-size: 9px; padding: 2px 8px; border-radius: 5px; font-weight: 700; letter-spacing: 0.5px; font-family: var(--font-display); }
  .live-level-tag.now { background: linear-gradient(135deg, var(--blue) 0%, var(--blue-700) 100%); color: white; box-shadow: 0 2px 6px rgba(26,111,232,0.3); }
  .live-level-tag.break { background: var(--amber-light); color: #92400E; }
  .live-stack-dist-list { display: flex; flex-direction: column; gap: 10px; }
  .live-stack-dist-row { display: flex; align-items: center; gap: 10px; }
  .live-stack-dist-label { font-size: 11px; color: var(--text-muted); width: 80px; flex-shrink: 0; font-weight: 500; }
  .live-stack-dist-bar-wrap { flex: 1; height: 10px; background: var(--bg); border-radius: 5px; overflow: hidden; }
  .live-stack-dist-bar { height: 100%; border-radius: 5px; transition: width 0.6s cubic-bezier(0.22, 1, 0.36, 1); }
  .live-stack-dist-count { font-size: 11px; color: var(--text-muted); width: 36px; text-align: right; font-weight: 500; }

  /* â”€â”€ MORE TAB â”€â”€ */
  .more-section-title { font-family: var(--font-display); font-size: 10px; letter-spacing: 2.5px; text-transform: uppercase; color: var(--text-muted); padding: 18px 16px 8px; font-weight: 600; }
  .more-list { background: white; margin: 0 14px; border-radius: var(--radius); border: 1px solid var(--border-light); overflow: hidden; box-shadow: var(--shadow-xs); }
  .more-item { display: flex; align-items: center; gap: 14px; padding: 15px 18px; border-bottom: 1px solid var(--border-light); cursor: pointer; transition: background 0.1s; }
  .more-item:last-child { border-bottom: none; }
  .more-item:active { background: var(--bg); }
  .more-item-icon { width: 40px; height: 40px; border-radius: var(--radius-sm); display: flex; align-items: center; justify-content: center; font-size: 18px; flex-shrink: 0; }
  .more-item-body { flex: 1; }
  .more-item-label { font-size: 14px; font-weight: 700; color: var(--text); }
  .more-item-sub { font-size: 11px; color: var(--text-muted); margin-top: 2px; }
  .more-item-arrow { color: var(--text-faint); font-size: 18px; }
  .more-panel { display: none; }
  .more-panel.open { display: block; animation: fadeIn 0.2s ease; }
  .more-back { display: flex; align-items: center; gap: 8px; padding: 15px 18px; font-size: 13px; color: var(--blue); cursor: pointer; border-bottom: 1px solid var(--border-light); background: white; font-weight: 600; }

  .toggle-wrap { position: relative; display: inline-block; width: 46px; height: 26px; flex-shrink: 0; }
  .toggle-cb { opacity: 0; width: 0; height: 0; position: absolute; }
  .toggle-track { position: absolute; cursor: pointer; inset: 0; background: #D1D5DB; border-radius: 26px; transition: background 0.2s; display: block; }
  .toggle-track.on { background: var(--blue); }
  .toggle-thumb { position: absolute; height: 22px; width: 22px; left: 2px; bottom: 2px; background: white; border-radius: 50%; transition: left 0.2s; display: block; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }

  .share-card-preview { margin: 14px; border-radius: var(--radius); overflow: hidden; background: linear-gradient(145deg, var(--navy) 0%, var(--blue-800) 100%); padding: 24px; color: white; position: relative; }
  .share-card-preview::before { content: 'â™ '; position: absolute; right: -10px; top: -20px; font-size: 140px; color: rgba(255,255,255,0.03); line-height: 1; }
  .share-card-name { font-family: var(--font-display); font-size: 26px; font-weight: 800; letter-spacing: 2px; }
  .share-card-id { font-size: 11px; color: rgba(255,255,255,0.4); letter-spacing: 2px; margin-bottom: 16px; }
  .share-card-stats { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 16px; }
  .share-card-stat-val { font-family: var(--font-display); font-size: 24px; font-weight: 700; }
  .share-card-stat-lbl { font-size: 9px; color: rgba(255,255,255,0.4); letter-spacing: 1.5px; text-transform: uppercase; }
  .share-btn { display: block; margin: 14px; padding: 15px; border-radius: var(--radius-sm); background: var(--blue); color: white; border: none; width: calc(100% - 28px); font-family: var(--font-display); font-size: 14px; font-weight: 700; letter-spacing: 0.5px; cursor: pointer; text-align: center; transition: transform 0.15s; }
  .share-btn:active { transform: scale(0.98); }

  .badge-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; padding: 14px; }
  .badge-item { text-align: center; }
  .badge-icon { width: 66px; height: 66px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 28px; margin: 0 auto 7px; border: 2px solid var(--border); transition: all 0.2s; }
  .badge-icon.earned { border-color: var(--blue); background: var(--blue-50); box-shadow: 0 2px 8px rgba(26,111,232,0.12); }
  .badge-icon.locked { opacity: 0.3; background: var(--bg); }
  .badge-label { font-size: 10px; color: var(--text-muted); font-weight: 500; }

  .friend-item { display: flex; align-items: center; gap: 14px; padding: 14px 18px; border-bottom: 1px solid var(--border-light); background: white; }
  .friend-item:last-child { border-bottom: none; }
  .friend-avatar { width: 42px; height: 42px; border-radius: var(--radius-sm); background: var(--blue-50); border: 2px solid var(--blue-200); display: flex; align-items: center; justify-content: center; font-family: var(--font-display); font-size: 14px; font-weight: 700; color: var(--blue); flex-shrink: 0; }
  .friend-body { flex: 1; }
  .friend-name { font-size: 13px; font-weight: 700; }
  .friend-sub { font-size: 11px; color: var(--text-muted); }
  .friend-rank { font-family: var(--font-display); font-size: 17px; font-weight: 700; color: var(--blue); }

  .profile-edit-form { padding: 18px; }
  .profile-edit-avatar { width: 76px; height: 76px; border-radius: 22px; background: var(--blue-50); border: 2.5px solid var(--blue); display: flex; align-items: center; justify-content: center; font-family: var(--font-display); font-size: 26px; font-weight: 700; color: var(--blue); margin: 0 auto 8px; cursor: pointer; position: relative; }
  .profile-edit-avatar::after { content: 'ðŸ“·'; position: absolute; bottom: -2px; right: -2px; font-size: 16px; background: white; border-radius: 50%; width: 24px; height: 24px; display: flex; align-items: center; justify-content: center; box-shadow: 0 1px 4px rgba(0,0,0,0.15); }
  .profile-edit-hint { text-align: center; font-size: 11px; color: var(--blue); margin-bottom: 22px; cursor: pointer; font-weight: 600; }

  .rule-section { padding: 18px; }
  .rule-chapter { margin-bottom: 22px; }
  .rule-chapter-title { font-family: var(--font-display); font-size: 13px; font-weight: 700; letter-spacing: 1px; text-transform: uppercase; color: var(--blue); margin-bottom: 10px; padding-bottom: 8px; border-bottom: 1px solid var(--border-light); }
  .rule-item { display: flex; gap: 8px; margin-bottom: 7px; font-size: 12.5px; color: var(--text-mid); line-height: 1.6; }
  .rule-num { color: var(--blue); font-weight: 700; flex-shrink: 0; width: 20px; font-family: var(--font-display); }

  /* Popups */
  .qr-overlay, .rank-popup-overlay, .gid-overlay { display: none; position: fixed; inset: 0; z-index: 500; background: rgba(10,22,40,0.6); align-items: center; justify-content: center; backdrop-filter: blur(4px); }
  .qr-overlay.open, .rank-popup-overlay.open, .gid-overlay.open { display: flex; }
  .rank-popup-overlay.open, .gid-overlay.open { align-items: flex-end; }
  .qr-popup { background: white; border-radius: 22px; padding: 30px 26px 26px; width: 290px; text-align: center; animation: scaleIn 0.25s ease; box-shadow: var(--shadow-lg); }
  .qr-popup-title { font-family: var(--font-display); font-size: 12px; letter-spacing: 2.5px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 6px; font-weight: 600; }
  .qr-popup-name { font-family: var(--font-display); font-size: 22px; font-weight: 700; margin-bottom: 4px; }
  .qr-popup-id { font-size: 12px; color: var(--blue); font-weight: 600; letter-spacing: 2px; margin-bottom: 22px; }
  .qr-box { width: 180px; height: 180px; margin: 0 auto 22px; position: relative; }
  .qr-box canvas { width: 180px; height: 180px; border-radius: var(--radius-xs); }
  .qr-popup-note { font-size: 11px; color: var(--text-muted); line-height: 1.6; margin-bottom: 18px; }
  .qr-close-btn { width: 100%; padding: 13px; border: 1px solid var(--border); border-radius: var(--radius-sm); background: white; font-size: 13px; color: var(--text-muted); cursor: pointer; font-weight: 600; }

  .rank-popup { background: white; border-radius: 24px 24px 0 0; width: 100%; max-width: 480px; padding: 0 0 env(safe-area-inset-bottom, 24px); animation: evUp 0.25s ease; overflow: hidden; box-shadow: 0 -10px 50px rgba(10,22,40,0.15); }
  .rank-popup-handle { width: 36px; height: 4px; background: var(--border); border-radius: 2px; margin: 14px auto 18px; }
  .rank-popup-title { font-family: var(--font-display); font-size: 18px; font-weight: 700; letter-spacing: 0.5px; text-align: center; margin-bottom: 4px; }
  .rank-popup-sub { font-size: 12px; color: var(--text-muted); text-align: center; margin-bottom: 22px; }
  .rank-factors { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 0 18px; margin-bottom: 22px; }
  .rank-factor { background: var(--bg-warm); border-radius: var(--radius-sm); padding: 14px; display: flex; align-items: center; gap: 12px; border: 1px solid var(--border-light); }
  .rank-factor-icon { font-size: 24px; flex-shrink: 0; }
  .rank-factor-name { font-size: 12px; font-weight: 700; color: var(--text); }
  .rank-factor-desc { font-size: 10px; color: var(--text-muted); margin-top: 1px; }
  .rank-pyramid { padding: 0 18px 18px; }
  .rank-pyramid-title { font-size: 10px; letter-spacing: 2.5px; text-transform: uppercase; color: var(--text-muted); text-align: center; margin-bottom: 14px; font-weight: 600; font-family: var(--font-display); }
  .rank-tier { display: flex; align-items: center; margin-bottom: 0; }
  .rank-tier-bar { height: 46px; border-radius: 0; display: flex; align-items: center; justify-content: space-between; padding: 0 14px; flex: 1; position: relative; overflow: visible; }
  .rank-tier-label { font-family: var(--font-display); font-size: 22px; font-weight: 800; color: white; letter-spacing: 1px; z-index: 1; }
  .rank-tier-pct { font-size: 10px; color: rgba(255,255,255,0.7); letter-spacing: 1px; z-index: 1; }
  .rank-tier-you { background: white; color: var(--blue); font-size: 10px; font-weight: 700; padding: 3px 10px; border-radius: var(--radius-pill); letter-spacing: 1px; z-index: 1; font-family: var(--font-display); }
  .rank-close-btn { display: block; width: calc(100% - 36px); margin: 6px 18px 22px; padding: 15px; border: 1px solid var(--border); border-radius: var(--radius-sm); background: white; font-size: 14px; color: var(--text-muted); cursor: pointer; font-weight: 600; }

  .gid-popup { background: white; border-radius: 24px 24px 0 0; width: 100%; max-width: 480px; padding: 0 0 32px; animation: evUp 0.25s ease; overflow: hidden; box-shadow: 0 -10px 50px rgba(10,22,40,0.15); }
  .gid-popup-handle { width: 36px; height: 4px; background: var(--border); border-radius: 2px; margin: 14px auto 0; }
  .gid-popup-header { background: linear-gradient(145deg, var(--navy), var(--blue-900)); padding: 22px 22px 26px; margin-top: 14px; position: relative; overflow: hidden; }
  .gid-popup-header::before { content: 'ðŸŽ®'; position: absolute; right: -10px; top: -16px; font-size: 100px; opacity: 0.04; line-height: 1; }
  .gid-popup-header-label { font-size: 9px; letter-spacing: 3px; text-transform: uppercase; color: rgba(255,255,255,0.35); margin-bottom: 5px; display: flex; align-items: center; gap: 6px; font-weight: 600; }
  .gid-verified-badge { background: var(--green); color: white; font-size: 8px; padding: 2px 7px; border-radius: 4px; letter-spacing: 0.5px; font-weight: 700; }
  .gid-number-large { font-family: var(--font-display); font-size: 36px; font-weight: 800; letter-spacing: 3px; color: white; line-height: 1; margin-bottom: 6px; }
  .gid-username { font-size: 12px; color: rgba(255,255,255,0.4); }
  .gid-balance-bar { padding: 18px 22px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid var(--border-light); }
  .gid-balance-lbl { font-size: 10px; letter-spacing: 1.5px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 3px; font-weight: 600; }
  .gid-balance-num { font-family: var(--font-display); font-size: 30px; font-weight: 800; color: var(--green); line-height: 1; }
  .gid-balance-unit { font-size: 14px; color: var(--green); margin-left: 1px; }
  .gid-qr-section { padding: 18px 22px 0; }
  .gid-qr-label { font-size: 10px; letter-spacing: 2.5px; text-transform: uppercase; color: var(--text-muted); margin-bottom: 14px; text-align: center; font-weight: 600; font-family: var(--font-display); }
  .gid-qr-box { width: 160px; height: 160px; margin: 0 auto; border: 1.5px solid var(--border); border-radius: var(--radius-sm); overflow: hidden; padding: 8px; background: white; }
  .gid-qr-box canvas { width: 144px; height: 144px; }
  .gid-qr-note { text-align: center; font-size: 10.5px; color: var(--text-muted); margin-top: 12px; line-height: 1.6; }
  .gid-close-btn { display: block; width: calc(100% - 44px); margin: 22px auto 0; padding: 15px; border: 1px solid var(--border); border-radius: var(--radius-sm); background: white; font-size: 14px; color: var(--text-muted); cursor: pointer; font-weight: 600; }

  .receipt-ev-item { display: flex; align-items: center; gap: 14px; padding: 14px 18px; border-bottom: 1px solid var(--border-light); cursor: pointer; transition: background 0.1s; }
  .receipt-ev-item:last-child { border-bottom: none; }
  .receipt-ev-item:active { background: var(--bg); }
  .receipt-ev-item.active { background: var(--blue-50); }
  .receipt-check { width: 24px; height: 24px; border-radius: 50%; border: 2px solid var(--border); display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700; flex-shrink: 0; color: transparent; }
  .receipt-ev-item.active .receipt-check { background: var(--blue); border-color: var(--blue); color: white; }

  .cstep-dot { width: 30px; height: 30px; border-radius: 50%; border: 2px solid var(--border); background: white; display: flex; align-items: center; justify-content: center; font-size: 12px; font-weight: 700; color: var(--text-muted); margin: 0 auto; transition: all 0.3s; font-family: var(--font-display); }
  .cstep-dot.done { background: var(--blue); border-color: var(--blue); color: white; }
  .cstep-dot.active { border-color: var(--blue); color: var(--blue); }
  .cstep-line { flex: 1; height: 2px; background: var(--border); transition: background 0.3s; margin: 0 4px; margin-bottom: 14px; }
  .cstep-line.done { background: var(--blue); }

  .live-sub-content { animation: fadeIn 0.2s ease; padding-top: 2px; }

  .lp-row { display: grid; grid-template-columns: 36px 1fr 52px 52px; align-items: center; padding: 11px 12px; border-bottom: 1px solid var(--border-light); cursor: pointer; transition: background 0.15s; }
  .lp-row:last-child { border-bottom: none; }
  .lp-row:active { background: var(--blue-50); }
  .lp-row.is-me { background: linear-gradient(90deg, var(--blue-50) 0%, rgba(240,247,255,0.3) 100%); }
  .lp-avatar { width: 30px; height: 30px; border-radius: 10px; background: var(--bg); display: flex; align-items: center; justify-content: center; font-family: var(--font-display); font-size: 10px; font-weight: 700; color: var(--text-muted); flex-shrink: 0; }
  .lp-row.is-me .lp-avatar { background: var(--blue-100); color: var(--blue); }
  .lp-name { font-size: 13px; font-weight: 600; color: var(--text); display: flex; align-items: center; gap: 6px; }
  .lp-sub { font-size: 10px; color: var(--text-muted); margin-top: 1px; }
  .lp-table, .lp-seat { font-family: var(--font-display); font-size: 16px; font-weight: 700; color: var(--text-mid); text-align: center; }
  .lp-row.is-me .lp-table, .lp-row.is-me .lp-seat { color: var(--blue); }

  .ps-header { background: linear-gradient(145deg, var(--navy), var(--blue-900)); padding: 24px 20px; position: relative; overflow: hidden; }
  .ps-header::before { content: 'â™ '; position: absolute; right: -10px; top: -20px; font-size: 120px; color: rgba(255,255,255,0.025); line-height: 1; }
  .ps-avatar-lg { width: 56px; height: 56px; border-radius: 16px; background: rgba(255,255,255,0.1); border: 2px solid rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center; font-family: var(--font-display); font-size: 20px; font-weight: 700; color: white; }
  .ps-stats-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1px; background: var(--border-light); }
  .ps-stat { background: white; padding: 14px 12px; text-align: center; }
  .ps-stat-val { font-family: var(--font-display); font-size: 22px; font-weight: 700; margin-bottom: 2px; }
  .ps-stat-lbl { font-size: 9px; letter-spacing: 1.5px; text-transform: uppercase; color: var(--text-muted); font-weight: 600; }
  .ps-history-item { display: flex; align-items: center; gap: 12px; padding: 12px 20px; border-bottom: 1px solid var(--border-light); }
  .ps-history-item:last-child { border-bottom: none; }
  .ps-finish { font-family: var(--font-display); font-size: 16px; font-weight: 700; width: 40px; text-align: center; flex-shrink: 0; }

  ::-webkit-scrollbar { width: 3px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 2px; }
</style>
</head>
<body>

<!-- Header -->
<header class="header">
  <div class="header-back"></div>
  <div class="header-logo">JOPT+</div>
  <div class="header-share" onclick="switchTab('more')" style="cursor:pointer">â‹¯</div>
</header>

<!-- Hero -->
<section class="hero">
  <div class="hero-band">
    <div class="hero-top">
      <div class="avatar" onclick="openQR()">
        TK
        <div class="rank-badge">#3</div>
      </div>
      <div class="hero-info">
        <h1>Takeshi Kato</h1>
        <div class="sub">åŠ è—¤ å‰› Â· Tokyo Â· since 2019</div>
        <div class="tags">
          <span class="tag gold">ðŸ† 3Ã— Champion</span>
          <span class="tag">Elite</span>
          <span class="tag gray">Rank #3</span>
        </div>
      </div>
    </div>
  </div>
  <div class="gameid-card" onclick="openGameIDPopup()">
    <div class="gameid-card-inner">
      <div class="gameid-icon">ðŸŽ®</div>
      <div class="gameid-main">
        <div class="gameid-label">GAME ID <span class="gameid-verified">âœ“ æ¤œè¨¼æ¸ˆã¿</span></div>
        <div class="gameid-number">8588.1022</div>
      </div>
      <div class="gameid-balance-col">
        <div class="gameid-balance-label">WEBã‚³ã‚¤ãƒ³</div>
        <div class="gameid-balance-val">3,250<span class="gameid-balance-unit"> pt</span></div>
      </div>
      <div class="gameid-arrow">â€º</div>
    </div>
  </div>
</section>

<!-- Tab Nav -->
<nav class="tab-nav">
  <div class="tab-nav-item active" data-tab="stats">çµ±è¨ˆ</div>
  <div class="tab-nav-item" data-tab="live">ðŸ”´ ãƒ©ã‚¤ãƒ–</div>
  <div class="tab-nav-item" data-tab="events">å¤§ä¼šã‚¨ãƒ³ãƒˆãƒªãƒ¼</div>
  <div class="tab-nav-item" data-tab="ranking">ãƒ©ãƒ³ã‚­ãƒ³ã‚°</div>
  <div class="tab-nav-item" data-tab="wins">å„ªå‹å±¥æ­´</div>
  <div class="tab-nav-item" data-tab="history">å‚åŠ å±¥æ­´</div>
</nav>

<!-- Stats Tab -->
<div class="section active" id="tab-stats">
  <div class="card">
    <div class="stats-grid" style="margin-top:0">
      <div class="stat-cell"><div class="stat-val">48</div><div class="stat-lbl">å‚åŠ å¤§ä¼šæ•°</div></div>
      <div class="stat-cell"><div class="stat-val blue">3</div><div class="stat-lbl">å„ªå‹å›žæ•°</div></div>
      <div class="stat-cell"><div class="stat-val green">19</div><div class="stat-lbl">å…¥è³žå›žæ•°</div></div>
      <div class="stat-cell"><div class="stat-val">39.6%</div><div class="stat-lbl">ITMçŽ‡</div></div>
      <div class="stat-cell"><div class="stat-val">$40,000</div><div class="stat-lbl">é€šç®—è³žé‡‘</div></div>
      <div class="stat-cell" onclick="openRankPopup()" style="cursor:pointer">
        <div class="jopt-rank-badge">S</div>
        <div class="stat-lbl">JOPTãƒ©ãƒ³ã‚¯ â€º</div>
      </div>
    </div>
  </div>
  <div class="nav-spacer"></div>
</div>

<!-- Wins Tab -->
<div class="section" id="tab-wins">
  <div class="card">
    <div class="win-list">
      <div class="win-item">
        <div class="win-trophy"><svg viewBox="0 0 100 120" xmlns="http://www.w3.org/2000/svg"><circle cx="35" cy="50" r="22" fill="#1A6FE8"/><circle cx="65" cy="50" r="22" fill="#1A6FE8"/><circle cx="50" cy="28" r="22" fill="#1A6FE8"/><path d="M42 72 Q40 84 32 90 L68 90 Q60 84 58 72 Z" fill="#1A6FE8"/><rect x="26" y="88" width="48" height="9" rx="4.5" fill="#1456A0"/><text x="50" y="95" text-anchor="middle" font-family="Outfit,sans-serif" font-size="5" font-weight="600" fill="white" letter-spacing="0.8">MAIN EVENT</text></svg></div>
        <div class="win-body"><div class="win-title-row"><div class="win-event">JOPT Main Event 2024</div><div class="win-prize">Â¥3,200,000</div></div><div class="win-meta">2024.09.15 Â· Sapporo Â· 312 entries Â· BI Â¥110,000</div></div>
      </div>
      <div class="win-item gold">
        <div class="win-trophy"><svg viewBox="0 0 100 120" xmlns="http://www.w3.org/2000/svg"><circle cx="35" cy="50" r="22" fill="#1A1A2E"/><circle cx="65" cy="50" r="22" fill="#1A1A2E"/><circle cx="50" cy="28" r="22" fill="#1A1A2E"/><path d="M42 72 Q40 84 32 90 L68 90 Q60 84 58 72 Z" fill="#1A1A2E"/><rect x="26" y="88" width="48" height="9" rx="4.5" fill="#D4A21B"/><text x="50" y="95" text-anchor="middle" font-family="Outfit,sans-serif" font-size="5" font-weight="600" fill="#1A1A2E" letter-spacing="0.8">HIGH ROLLER</text></svg></div>
        <div class="win-body"><div class="win-title-row"><div class="win-event">JOPT High Roller 2023</div><div class="win-prize">Â¥1,500,000</div></div><div class="win-meta">2023.03.22 Â· Osaka Â· 48 entries Â· BI Â¥220,000</div></div>
      </div>
      <div class="win-item orange">
        <div class="win-trophy"><svg viewBox="0 0 100 120" xmlns="http://www.w3.org/2000/svg"><circle cx="35" cy="50" r="22" fill="#CC5500"/><circle cx="65" cy="50" r="22" fill="#CC5500"/><circle cx="50" cy="28" r="22" fill="#CC5500"/><path d="M42 72 Q40 84 32 90 L68 90 Q60 84 58 72 Z" fill="#CC5500"/><rect x="26" y="88" width="48" height="9" rx="4.5" fill="#AA3300"/><text x="50" y="95" text-anchor="middle" font-family="Outfit,sans-serif" font-size="5" font-weight="600" fill="white" letter-spacing="0.8">TURBO EVENT</text></svg></div>
        <div class="win-body"><div class="win-title-row"><div class="win-event">JOPT Turbo Event 2022</div><div class="win-prize">Â¥820,000</div></div><div class="win-meta">2022.11.05 Â· Tokyo Â· 156 entries Â· BI Â¥33,000</div></div>
      </div>
    </div>
  </div>
  <div class="nav-spacer"></div>
</div>

<!-- History Tab -->
<div class="section" id="tab-history">
  <div class="card">
    <div class="hist-filter">
      <div class="filter-chip active">ã™ã¹ã¦</div>
      <div class="filter-chip">å…¥è³žã®ã¿</div>
      <div class="filter-chip">2024</div>
      <div class="filter-chip">2023</div>
      <div class="filter-chip">2022</div>
    </div>
    <div class="hist-list">
      <div class="hist-item"><div class="hist-finish-box"><div class="finish-num win">1st</div><div class="finish-lbl">å„ªå‹</div></div><div class="hist-body"><div class="hist-name">JOPT Main Event 2024</div><div class="hist-date">2024.09.15 Â· Sapporo Â· 312 entries</div></div><div class="hist-right"><div class="hist-prize pos">+Â¥3,200,000</div><div class="hist-buyin">BI Â¥110,000</div></div></div>
      <div class="hist-item"><div class="hist-finish-box"><div class="finish-num itm">3rd</div><div class="finish-lbl">å…¥è³ž</div></div><div class="hist-body"><div class="hist-name">JOPT Side Event #4 2024</div><div class="hist-date">2024.09.13 Â· Sapporo Â· 88 entries</div></div><div class="hist-right"><div class="hist-prize pos">+Â¥180,000</div><div class="hist-buyin">BI Â¥33,000</div></div></div>
      <div class="hist-item"><div class="hist-finish-box"><div class="finish-num itm">12th</div><div class="finish-lbl">å…¥è³ž</div></div><div class="hist-body"><div class="hist-name">JOPT Spring 2024 Main</div><div class="hist-date">2024.04.07 Â· Osaka Â· 224 entries</div></div><div class="hist-right"><div class="hist-prize pos">+Â¥48,000</div><div class="hist-buyin">BI Â¥55,000</div></div></div>
      <div class="hist-item"><div class="hist-finish-box"><div class="finish-num bust">â€”</div><div class="finish-lbl">åœå¤–</div></div><div class="hist-body"><div class="hist-name">JOPT High Roller 2024</div><div class="hist-date">2024.04.05 Â· Osaka Â· 56 entries</div></div><div class="hist-right"><div class="hist-prize neg">âˆ’Â¥220,000</div><div class="hist-buyin">BI Â¥220,000</div></div></div>
      <div class="hist-item"><div class="hist-finish-box"><div class="finish-num win">1st</div><div class="finish-lbl">å„ªå‹</div></div><div class="hist-body"><div class="hist-name">JOPT High Roller 2023</div><div class="hist-date">2023.03.22 Â· Osaka Â· 48 entries</div></div><div class="hist-right"><div class="hist-prize pos">+Â¥1,500,000</div><div class="hist-buyin">BI Â¥220,000</div></div></div>
      <div class="hist-item"><div class="hist-finish-box"><div class="finish-num itm">8th</div><div class="finish-lbl">å…¥è³ž</div></div><div class="hist-body"><div class="hist-name">JOPT Main Event 2023</div><div class="hist-date">2023.03.25 Â· Osaka Â· 287 entries</div></div><div class="hist-right"><div class="hist-prize pos">+Â¥72,000</div><div class="hist-buyin">BI Â¥110,000</div></div></div>
      <div class="hist-item"><div class="hist-finish-box"><div class="finish-num itm">5th</div><div class="finish-lbl">å…¥è³ž</div></div><div class="hist-body"><div class="hist-name">JOPT Side Event #2 2023</div><div class="hist-date">2023.03.19 Â· Osaka Â· 112 entries</div></div><div class="hist-right"><div class="hist-prize pos">+Â¥95,000</div><div class="hist-buyin">BI Â¥33,000</div></div></div>
      <div class="hist-item"><div class="hist-finish-box"><div class="finish-num win">1st</div><div class="finish-lbl">å„ªå‹</div></div><div class="hist-body"><div class="hist-name">JOPT Turbo Event 2022</div><div class="hist-date">2022.11.05 Â· Tokyo Â· 156 entries</div></div><div class="hist-right"><div class="hist-prize pos">+Â¥820,000</div><div class="hist-buyin">BI Â¥33,000</div></div></div>
      <div class="hist-item"><div class="hist-finish-box"><div class="finish-num bust">â€”</div><div class="finish-lbl">åœå¤–</div></div><div class="hist-body"><div class="hist-name">JOPT Main Event 2022</div><div class="hist-date">2022.11.07 Â· Tokyo Â· 298 entries</div></div><div class="hist-right"><div class="hist-prize neg">âˆ’Â¥110,000</div><div class="hist-buyin">BI Â¥110,000</div></div></div>
      <div class="hist-item"><div class="hist-finish-box"><div class="finish-num itm">21st</div><div class="finish-lbl">å…¥è³ž</div></div><div class="hist-body"><div class="hist-name">JOPT Spring 2022 Main</div><div class="hist-date">2022.04.10 Â· Tokyo Â· 180 entries</div></div><div class="hist-right"><div class="hist-prize pos">+Â¥28,000</div><div class="hist-buyin">BI Â¥55,000</div></div></div>
    </div>
  </div>
  <div class="nav-spacer"></div>
</div>

<!-- Ranking Tab -->
<div class="section" id="tab-ranking">
  <div class="rank-type-row">
    <div class="rank-type-btn active" data-rtype="itm-rate">ITMçŽ‡</div>
    <div class="rank-type-btn" data-rtype="itm-count">ITMå›žæ•°</div>
    <div class="rank-type-btn" data-rtype="wins">å„ªå‹å›žæ•°</div>
    <div class="rank-type-btn" data-rtype="prize">ç²å¾—è³žé‡‘</div>
  </div>
  <div class="rank-my-banner" id="rankMyBanner"></div>
  <div class="rank-board" id="rankBoard">
    <div class="rank-list-header" id="rankListHeader"><span></span><span>ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼</span><span style="text-align:right">ITMçŽ‡</span></div>
    <div id="rankList"></div>
  </div>
  <div style="height:16px"></div>
  <div class="nav-spacer"></div>
</div>

<!-- Events Tab -->
<div class="section" id="tab-events">
  <div class="ev-banner">
    <div class="ev-banner-title">JOPT 2026<br>SAPPORO #01</div>
    <div class="ev-banner-sub">ã‚µãƒƒãƒãƒ­ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ›ãƒ¼ãƒ«ã€€Feb 20â€“23, 2026</div>
    <div class="ev-banner-meta"><span>ðŸ“… 4æ—¥é–“ Â· 31ã‚¤ãƒ™ãƒ³ãƒˆ</span><span>ðŸ“ Sapporo</span></div>
  </div>
  <div class="ev-filter-bar">
    <div class="ev-chip active" data-filter="all">ã™ã¹ã¦</div>
    <div class="ev-chip" data-filter="02.20">02/20 Fri</div>
    <div class="ev-chip" data-filter="02.21">02/21 Sat</div>
    <div class="ev-chip" data-filter="02.22">02/22 Sun</div>
    <div class="ev-chip" data-filter="02.23">02/23 Mon</div>
    <div class="ev-chip" data-filter="satellite">ã‚µãƒ†ãƒ©ã‚¤ãƒˆ</div>
  </div>
  <div id="evList">
    <div class="ev-day-hd" data-day="02.20">02.20 Fri â€” é–‹å¹•æ—¥</div>
    <div class="ev-card is-main" data-day="02.20" data-tid="01" onclick="openEvSheet('01')"><div class="ev-card-inner"><div class="ev-num main">01</div><div class="ev-body"><div class="ev-name">NLH Main Event Day 1A</div><div class="ev-time-row"><span class="ev-time">19:00ã€œ Reg. 01:10</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥70,000</div><div class="ev-chips">50,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.20" data-tid="02" onclick="openEvSheet('02')"><div class="ev-card-inner"><div class="ev-num">02</div><div class="ev-body"><div class="ev-name">NLH Warm-up</div><div class="ev-time-row"><span class="ev-time">19:00ã€œ Reg. 22:30</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥10,000</div><div class="ev-chips">30,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.20" data-tid="03" onclick="openEvSheet('03')"><div class="ev-card-inner"><div class="ev-num plo">03</div><div class="ev-body"><div class="ev-name">PLO Kick-off</div><div class="ev-time-row"><span class="ev-time">20:00ã€œ Reg. 23:30</span><span class="ev-badge plo">PLO</span></div></div><div class="ev-right"><div class="ev-fee">Â¥12,000</div><div class="ev-chips">30,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.20" data-tid="04" onclick="openEvSheet('04')"><div class="ev-card-inner"><div class="ev-num">04</div><div class="ev-body"><div class="ev-name">NLH Superstack</div><div class="ev-time-row"><span class="ev-time">21:00ã€œ Reg. 00:30</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥15,000</div><div class="ev-chips">40,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.20" data-tid="05" onclick="openEvSheet('05')"><div class="ev-card-inner"><div class="ev-num fl">05</div><div class="ev-body"><div class="ev-name">FL 2-7TD & Badugi</div><div class="ev-time-row"><span class="ev-time">22:00ã€œ Reg. 00:10</span><span class="ev-badge fl">FL</span></div></div><div class="ev-right"><div class="ev-fee">Â¥12,000</div><div class="ev-chips">30,000 chips</div></div></div></div>

    <div class="ev-day-hd" data-day="02.21">02.21 Sat</div>
    <div class="ev-card" data-day="02.21" data-tid="06" onclick="openEvSheet('06')"><div class="ev-card-inner"><div class="ev-num">06</div><div class="ev-body"><div class="ev-name">NLH Bigstack Hyper</div><div class="ev-time-row"><span class="ev-time">00:00ã€œ Reg. 01:10</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥10,000</div><div class="ev-chips">50,000 chips</div></div></div></div>
    <div class="ev-card is-satellite" data-day="02.21" data-satellite="true" data-tid="s01" onclick="openEvSheet('s01')"><div class="ev-card-inner"><div class="ev-num sat">S</div><div class="ev-body"><div class="ev-name">Satellite Â¥25,000 VoucherÃ—2</div><div class="ev-time-row"><span class="ev-time">01:00ã€œ Reg. 02:00</span><span class="ev-badge sat">SAT</span></div></div><div class="ev-right"><div class="ev-fee">Â¥6,000</div><div class="ev-chips">10,000 chips</div></div></div></div>
    <div class="ev-card is-main" data-day="02.21" data-tid="01b" onclick="openEvSheet('01b')"><div class="ev-card-inner"><div class="ev-num main">01</div><div class="ev-body"><div class="ev-name">NLH Main Event Day 1B</div><div class="ev-time-row"><span class="ev-time">11:00ã€œ Reg. 17:10</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥70,000</div><div class="ev-chips">50,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.21" data-tid="07" onclick="openEvSheet('07')"><div class="ev-card-inner"><div class="ev-num">07</div><div class="ev-body"><div class="ev-name">NLH Builder</div><div class="ev-time-row"><span class="ev-time">12:00ã€œ Reg. 15:55</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥15,000</div><div class="ev-chips">30,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.21" data-tid="08" onclick="openEvSheet('08')"><div class="ev-card-inner"><div class="ev-num">08</div><div class="ev-body"><div class="ev-name">NLH Deepstack</div><div class="ev-time-row"><span class="ev-time">16:00ã€œ Reg. 19:10</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥12,000</div><div class="ev-chips">30,000 chips</div></div></div></div>
    <div class="ev-card is-main" data-day="02.21" data-tid="01c" onclick="openEvSheet('01c')"><div class="ev-card-inner"><div class="ev-num main">01</div><div class="ev-body"><div class="ev-name">NLH Main Event Day 1C Turbo</div><div class="ev-time-row"><span class="ev-time">17:00ã€œ Reg. 21:30</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥70,000</div><div class="ev-chips">50,000 chips</div></div></div></div>
    <div class="ev-card is-satellite" data-day="02.21" data-satellite="true" data-tid="s03" onclick="openEvSheet('s03')"><div class="ev-card-inner"><div class="ev-num sat">S</div><div class="ev-body"><div class="ev-name">Satellite â†’ Good Game 1000 (1/12)</div><div class="ev-time-row"><span class="ev-time">18:00ã€œ Reg. 19:00</span><span class="ev-badge sat">SAT</span></div></div><div class="ev-right"><div class="ev-fee">Â¥10,000</div><div class="ev-chips">10,000 chips</div></div></div></div>
    <div class="ev-card is-hr" data-day="02.21" data-tid="09" onclick="openEvSheet('09')"><div class="ev-card-inner"><div class="ev-num hr">09</div><div class="ev-body"><div class="ev-name">NLH Good Game 1000</div><div class="ev-time-row"><span class="ev-time">19:00ã€œ Reg. 23:30</span><span class="ev-badge nlh">NLH</span><span class="ev-badge hr">HR</span></div></div><div class="ev-right"><div class="ev-fee">Â¥100,000</div><div class="ev-chips">50,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.21" data-tid="10" onclick="openEvSheet('10')"><div class="ev-card-inner"><div class="ev-num">10</div><div class="ev-body"><div class="ev-name">NLH Mystery Bounty <span style="font-size:10px;color:var(--text-muted)">by ã®ã‚€ã‚·ãƒªã‚«</span></div><div class="ev-time-row"><span class="ev-time">19:00ã€œ Reg. 22:55</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥25,000</div><div class="ev-chips">30,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.21" data-tid="11" onclick="openEvSheet('11')"><div class="ev-card-inner"><div class="ev-num fl">11</div><div class="ev-body"><div class="ev-name">FL Triple Draw MIX</div><div class="ev-time-row"><span class="ev-time">20:00ã€œ Reg. 23:30</span><span class="ev-badge fl">FL</span></div></div><div class="ev-right"><div class="ev-fee">Â¥20,000</div><div class="ev-chips">40,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.21" data-tid="12" onclick="openEvSheet('12')"><div class="ev-card-inner"><div class="ev-num">12</div><div class="ev-body"><div class="ev-name">NLH Nightstack</div><div class="ev-time-row"><span class="ev-time">22:00ã€œ Reg. 01:10</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥15,000</div><div class="ev-chips">30,000 chips</div></div></div></div>

    <div class="ev-day-hd" data-day="02.22">02.22 Sun</div>
    <div class="ev-card" data-day="02.22" data-tid="15" onclick="openEvSheet('15')"><div class="ev-card-inner"><div class="ev-num">15</div><div class="ev-body"><div class="ev-name">NLH Poker Players Championship 1A</div><div class="ev-time-row"><span class="ev-time">11:00ã€œ Reg. 18:10</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥25,000</div><div class="ev-chips">50,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.22" data-tid="16" onclick="openEvSheet('16')"><div class="ev-card-inner"><div class="ev-num">16</div><div class="ev-body"><div class="ev-name">NLH Monsterstack</div><div class="ev-time-row"><span class="ev-time">14:00ã€œ Reg. 18:30</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥20,000</div><div class="ev-chips">50,000 chips</div></div></div></div>
    <div class="ev-card is-satellite" data-day="02.22" data-satellite="true" data-tid="s05" onclick="openEvSheet('s05')"><div class="ev-card-inner"><div class="ev-num sat">S</div><div class="ev-body"><div class="ev-name">Satellite â†’ NLH Crown (1/12)</div><div class="ev-time-row"><span class="ev-time">16:00ã€œ Reg. 17:00</span><span class="ev-badge sat">SAT</span></div></div><div class="ev-right"><div class="ev-fee">Â¥20,000</div><div class="ev-chips">10,000 chips</div></div></div></div>
    <div class="ev-card is-hr" data-day="02.22" data-tid="17" onclick="openEvSheet('17')"><div class="ev-card-inner"><div class="ev-num hr">17</div><div class="ev-body"><div class="ev-name">NLH Crown</div><div class="ev-time-row"><span class="ev-time">17:00ã€œ Reg. 20:30</span><span class="ev-badge nlh">NLH</span><span class="ev-badge hr">HR</span></div></div><div class="ev-right"><div class="ev-fee">Â¥200,000</div><div class="ev-chips">200,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.22" data-tid="18" onclick="openEvSheet('18')"><div class="ev-card-inner"><div class="ev-num">18</div><div class="ev-body"><div class="ev-name">NLH Tag Team <span style="font-size:10px;color:var(--text-muted)">by ã‚¯ãƒ©ã‚¤ãƒŠãƒ¼</span></div><div class="ev-time-row"><span class="ev-time">19:00ã€œ Reg. 22:45</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥25,000</div><div class="ev-chips">40,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.22" data-tid="19" onclick="openEvSheet('19')"><div class="ev-card-inner"><div class="ev-num">19</div><div class="ev-body"><div class="ev-name">NLH Good Game 500</div><div class="ev-time-row"><span class="ev-time">20:00ã€œ Reg. 23:30</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥50,000</div><div class="ev-chips">50,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.22" data-tid="20" onclick="openEvSheet('20')"><div class="ev-card-inner"><div class="ev-num">20</div><div class="ev-body"><div class="ev-name">NLH Nightstack</div><div class="ev-time-row"><span class="ev-time">21:00ã€œ Reg. 00:10</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥15,000</div><div class="ev-chips">30,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.22" data-tid="21" onclick="openEvSheet('21')"><div class="ev-card-inner"><div class="ev-num">21</div><div class="ev-body"><div class="ev-name">NLH Tag Team Turbo</div><div class="ev-time-row"><span class="ev-time">22:00ã€œ Reg. 00:20</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥15,000</div><div class="ev-chips">30,000 chips</div></div></div></div>

    <div class="ev-day-hd" data-day="02.23">02.23 Mon â€” æœ€çµ‚æ—¥</div>
    <div class="ev-card" data-day="02.23" data-tid="24" onclick="openEvSheet('24')"><div class="ev-card-inner"><div class="ev-num">24</div><div class="ev-body"><div class="ev-name">NLH Morning</div><div class="ev-time-row"><span class="ev-time">10:00ã€œ Reg. 12:40</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥10,000</div><div class="ev-chips">20,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.23" data-tid="25" onclick="openEvSheet('25')"><div class="ev-card-inner"><div class="ev-num plo">25</div><div class="ev-body"><div class="ev-name">PLO Monster</div><div class="ev-time-row"><span class="ev-time">11:00ã€œ Reg. 15:30</span><span class="ev-badge plo">PLO</span></div></div><div class="ev-right"><div class="ev-fee">Â¥20,000</div><div class="ev-chips">50,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.23" data-tid="26" onclick="openEvSheet('26')"><div class="ev-card-inner"><div class="ev-num">26</div><div class="ev-body"><div class="ev-name">NLH Sapporo</div><div class="ev-time-row"><span class="ev-time">12:00ã€œ Reg. 15:30</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥50,000</div><div class="ev-chips">50,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.23" data-tid="27" onclick="openEvSheet('27')"><div class="ev-card-inner"><div class="ev-num">27</div><div class="ev-body"><div class="ev-name">NLH Megastack <span style="font-size:10px;color:var(--text-muted)">by CHILLERS</span></div><div class="ev-time-row"><span class="ev-time">12:00ã€œ Reg. 15:55</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥15,000</div><div class="ev-chips">30,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.23" data-tid="28" onclick="openEvSheet('28')"><div class="ev-card-inner"><div class="ev-num">28</div><div class="ev-body"><div class="ev-name">NLH Heads-up</div><div class="ev-time-row"><span class="ev-time">12:00ã€œ</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥20,000</div><div class="ev-chips">20,000 chips</div></div></div></div>
    <div class="ev-card" data-day="02.23" data-tid="30" onclick="openEvSheet('30')"><div class="ev-card-inner"><div class="ev-num">30</div><div class="ev-body"><div class="ev-name">NLH Last Party</div><div class="ev-time-row"><span class="ev-time">16:00ã€œ Reg. 17:30</span><span class="ev-badge nlh">NLH</span></div></div><div class="ev-right"><div class="ev-fee">Â¥6,000</div><div class="ev-chips">20,000 chips</div></div></div></div>
    <div class="nav-spacer"></div>
  </div>
</div>

<!-- Event Overlay -->
<div class="ev-overlay" id="evOverlay" onclick="closeEvOnBg(event)">
  <div class="ev-sheet" id="evSheet">
    <div class="ev-handle"></div>
    <div id="evDetail">
      <div class="ev-sheet-header"><div class="ev-sheet-num" id="evSheetNum"></div><div class="ev-sheet-title" id="evSheetTitle"></div></div>
      <div class="ev-meta-grid" id="evMeta"></div>
      <div style="padding:0 20px 4px"><div class="ev-section-hd">æ³¨æ„äº‹é …</div><div id="evNotes" style="padding-bottom:8px"></div></div>
      <div style="padding:18px 20px"><button class="ev-btn-entry" onclick="showEvForm()">ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã™ã‚‹ â†’</button><div class="ev-entry-note">â€» æœ€çµ‚ç¢ºèªã¯ä¼šå ´å—ä»˜ã«ã¦è¡Œã‚ã‚Œã¾ã™</div></div>
    </div>
    <div id="evForm" style="display:none;padding:0 20px 20px">
      <div class="ev-section-hd" style="margin-bottom:16px" id="evFormTitle"></div>
      <div style="background:var(--blue-50);border-radius:var(--radius-sm);padding:14px 16px;margin-bottom:14px;display:flex;align-items:center;gap:12px;border:1px solid var(--blue-100)">
        <div style="width:40px;height:40px;border-radius:var(--radius-sm);background:linear-gradient(135deg,var(--blue),var(--blue-700));display:flex;align-items:center;justify-content:center;font-family:var(--font-display);font-size:16px;font-weight:700;color:white;flex-shrink:0">åŠ </div>
        <div><div style="font-size:14px;font-weight:700;color:var(--text)">åŠ è—¤ å‰›</div><div style="font-size:11px;color:var(--blue);font-weight:600;letter-spacing:1px">JOPT-04892</div></div>
        <div style="margin-left:auto;font-size:11px;color:var(--text-muted)">ãƒ­ã‚°ã‚¤ãƒ³ä¸­</div>
      </div>
      <div class="ev-form-group" id="evReentryGrp" style="display:none">
        <label class="ev-form-label">ã‚¨ãƒ³ãƒˆãƒªãƒ¼ç¨®åˆ¥</label>
        <select class="ev-form-input" id="evReentry" onchange="updateEvFee()"><option value="0">ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼</option><option value="1">1å›žç›®ãƒªã‚¨ãƒ³ãƒˆãƒªãƒ¼</option><option value="2">2å›žç›®ãƒªã‚¨ãƒ³ãƒˆãƒªãƒ¼</option><option value="3">3å›žç›®ãƒªã‚¨ãƒ³ãƒˆãƒªãƒ¼</option></select>
      </div>
      <div class="ev-fee-box" id="evFeeBox"></div>
      <div class="ev-form-group">
        <label class="ev-form-label">æ”¯æ‰•ã„æ–¹æ³•</label>
        <div class="pay-options">
          <div class="pay-option" id="pay-cash" onclick="selectPayment('cash')"><div class="pay-icon">ðŸ’´</div><div class="pay-body"><div class="pay-name">ç¾é‡‘</div><div class="pay-desc">å—ä»˜ã«ãŠè¶Šã—ãã ã•ã„</div></div><div class="pay-check" id="pay-check-cash"></div></div>
          <div class="pay-option active" id="pay-webcoin" onclick="selectPayment('webcoin')"><div class="pay-icon">ðŸŽ®</div><div class="pay-body"><div class="pay-name">WEBã‚³ã‚¤ãƒ³</div><div class="pay-desc" id="pay-webcoin-desc">æ®‹é«˜ <strong style="color:var(--green)">3,250 pt</strong> Â· GameIDé€£æºæ¸ˆã¿</div></div><div class="pay-check active" id="pay-check-webcoin">âœ“</div></div>
          <div class="pay-option disabled" id="pay-card"><div class="pay-icon" style="opacity:0.35">ðŸ’³</div><div class="pay-body"><div class="pay-name" style="color:var(--text-muted)">ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰</div><div class="pay-desc">è¿‘æ—¥å¯¾å¿œäºˆå®š</div></div><div class="pay-badge-soon">æº–å‚™ä¸­</div></div>
        </div>
      </div>
      <button class="ev-btn-confirm" id="evConfirmBtn" onclick="confirmEvEntry()">ã‚¨ãƒ³ãƒˆãƒªãƒ¼ç¢ºå®š âœ“</button>
      <button class="ev-btn-back" onclick="backEvDetail()">â† è©³ç´°ã«æˆ»ã‚‹</button>
    </div>
    <div id="evSuccess" style="display:none;padding:0 20px 20px;text-align:center;overflow:hidden">
      <div id="evSuccessInner">
        <!-- Phase 1: Thank you -->
        <div style="padding:40px 0 20px">
          <div style="font-family:var(--font-display);font-size:14px;letter-spacing:6px;color:var(--text-muted);text-transform:uppercase;margin-bottom:8px;opacity:0;animation:fadeUp 0.6s ease 0.2s forwards" id="evTyLabel">ENTRY CONFIRMED</div>
          <div style="font-family:var(--font-display);font-size:36px;font-weight:800;letter-spacing:2px;color:var(--text);opacity:0;animation:fadeUp 0.6s ease 0.5s forwards">THANK YOU</div>
          <div style="width:60px;height:3px;background:linear-gradient(90deg,var(--blue),var(--blue-400));border-radius:2px;margin:14px auto;opacity:0;animation:fadeUp 0.5s ease 0.8s forwards"></div>
          <div style="font-size:13px;color:var(--text-muted);opacity:0;animation:fadeUp 0.5s ease 1s forwards" id="evSuccessEvName"></div>
        </div>
        <!-- Phase 2: Seat reveal -->
        <div style="background:linear-gradient(145deg,var(--navy),var(--blue-900));border-radius:24px;padding:28px 24px;margin:8px 0 20px;position:relative;overflow:hidden;opacity:0;animation:scaleIn 0.5s cubic-bezier(0.22,1,0.36,1) 1.4s forwards">
          <div style="position:absolute;right:-15px;top:-25px;font-size:160px;color:rgba(255,255,255,0.02);line-height:1;pointer-events:none">â™ </div>
          <div style="font-family:var(--font-display);font-size:10px;letter-spacing:4px;color:rgba(255,255,255,0.35);margin-bottom:16px;font-weight:600">YOUR SEAT HAS BEEN ASSIGNED</div>
          <div style="display:flex;gap:16px;align-items:stretch">
            <div style="flex:1;background:rgba(255,255,255,0.08);border-radius:20px;padding:20px 16px;text-align:center;border:1px solid rgba(255,255,255,0.06);opacity:0;animation:fadeUp 0.5s ease 1.8s forwards">
              <div style="font-family:var(--font-display);font-size:10px;letter-spacing:3px;color:rgba(255,255,255,0.4);margin-bottom:10px;font-weight:600">TABLE</div>
              <div id="evSeatTable" style="font-family:var(--font-display);font-size:56px;font-weight:800;color:white;line-height:1;text-shadow:0 2px 20px rgba(26,111,232,0.4)">â€”</div>
            </div>
            <div style="flex:1;background:rgba(255,255,255,0.08);border-radius:20px;padding:20px 16px;text-align:center;border:1px solid rgba(255,255,255,0.06);opacity:0;animation:fadeUp 0.5s ease 2.1s forwards">
              <div style="font-family:var(--font-display);font-size:10px;letter-spacing:3px;color:rgba(255,255,255,0.4);margin-bottom:10px;font-weight:600">SEAT</div>
              <div id="evSeatNum" style="font-family:var(--font-display);font-size:56px;font-weight:800;color:white;line-height:1;text-shadow:0 2px 20px rgba(26,111,232,0.4)">â€”</div>
            </div>
          </div>
          <div style="margin-top:18px;font-size:12px;color:rgba(255,255,255,0.35);opacity:0;animation:fadeUp 0.4s ease 2.5s forwards">åŠ è—¤ å‰› Â· JOPT-04892</div>
        </div>
        <!-- Phase 3: Note -->
        <div style="font-size:12px;color:var(--text-muted);line-height:1.7;opacity:0;animation:fadeUp 0.4s ease 2.8s forwards;margin-bottom:8px" id="evSuccessNote"></div>
        <button class="ev-btn-entry" style="opacity:0;animation:fadeUp 0.4s ease 3.1s forwards" onclick="closeEvSheet()">OK</button>
      </div>
    </div>
  </div>
</div>

<!-- Live Monitor Tab -->
<div class="section" id="tab-live">
  <div class="live-header">
    <div class="live-header-left">
      <div class="live-dot-wrap"><span class="live-dot"></span>LIVE</div>
      <div class="live-title">NLH Main Event Day 2</div>
      <div class="live-sub">JOPT 2026 Sapporo #01 Â· ã‚µãƒƒãƒãƒ­ãƒ•ã‚¡ã‚¯ãƒˆãƒªãƒ¼ãƒ›ãƒ¼ãƒ«</div>
    </div>
    <div class="live-header-right"><div class="live-update-label">æœ€çµ‚æ›´æ–°</div><div class="live-update-time" id="liveUpdateTime">--:--</div></div>
  </div>

  <!-- Your Seat Card -->
  <div style="background:linear-gradient(145deg, var(--blue) 0%, var(--blue-800) 100%); margin:14px; border-radius:20px; padding:20px 24px; position:relative; overflow:hidden; box-shadow:0 8px 28px rgba(26,111,232,0.25)">
    <div style="position:absolute;right:-8px;top:-20px;font-size:130px;color:rgba(255,255,255,0.03);line-height:1;pointer-events:none">â™£</div>
    <div style="font-family:var(--font-display);font-size:10px;letter-spacing:3px;color:rgba(255,255,255,0.4);margin-bottom:12px;font-weight:600">YOUR SEAT Â· åŠ è—¤ å‰›</div>
    <div style="display:flex;gap:14px;align-items:stretch">
      <div style="flex:1;background:rgba(255,255,255,0.1);border-radius:16px;padding:16px;text-align:center;border:1px solid rgba(255,255,255,0.08)">
        <div style="font-family:var(--font-display);font-size:10px;letter-spacing:2.5px;color:rgba(255,255,255,0.45);margin-bottom:8px;font-weight:600">TABLE</div>
        <div style="font-family:var(--font-display);font-size:48px;font-weight:800;color:white;line-height:1" id="liveMyTable">7</div>
      </div>
      <div style="flex:1;background:rgba(255,255,255,0.1);border-radius:16px;padding:16px;text-align:center;border:1px solid rgba(255,255,255,0.08)">
        <div style="font-family:var(--font-display);font-size:10px;letter-spacing:2.5px;color:rgba(255,255,255,0.45);margin-bottom:8px;font-weight:600">SEAT</div>
        <div style="font-family:var(--font-display);font-size:48px;font-weight:800;color:white;line-height:1" id="liveMySeat">3</div>
      </div>
    </div>
  </div>

  <!-- Metrics Row -->
  <div class="live-metrics-row">
    <div class="live-metric-box"><div class="live-metric-label">æ®‹ã‚Šãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼</div><div class="live-metric-val" id="liveRemaining">38</div><div class="live-metric-sub">/ 312 ã‚¨ãƒ³ãƒˆãƒªãƒ¼</div></div>
    <div class="live-metric-box"><div class="live-metric-label">å…¥è³žãƒ©ã‚¤ãƒ³</div><div class="live-metric-val green" id="livePrizeLine">31</div><div class="live-metric-sub" id="liveItmStatus">ðŸ’° ITM ç¢ºå®š</div></div>
    <div class="live-metric-box"><div class="live-metric-label">å¹³å‡ã‚¹ã‚¿ãƒƒã‚¯</div><div class="live-metric-val" id="liveAvgStack">195K</div><div class="live-metric-sub">BBæ›ç®— <span id="liveBBAvg">9.75</span> BB</div></div>
  </div>

  <!-- Live Inner Tabs -->
  <div class="rank-type-row" id="liveSubTabs" style="margin:0 14px 2px">
    <div class="rank-type-btn active" data-ltab="blind" onclick="switchLiveTab('blind')">ãƒ–ãƒ©ã‚¤ãƒ³ãƒ‰</div>
    <div class="rank-type-btn" data-ltab="players" onclick="switchLiveTab('players')">ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼</div>
    <div class="rank-type-btn" data-ltab="prize" onclick="switchLiveTab('prize')">è³žé‡‘</div>
  </div>

  <!-- Sub: ãƒ–ãƒ©ã‚¤ãƒ³ãƒ‰ -->
  <div class="live-sub-content" id="ltab-blind">
    <div class="live-blind-card">
      <div class="live-blind-header">
        <div><div class="live-blind-level-label">CURRENT LEVEL</div><div class="live-blind-level" id="liveLevel">Level 18</div></div>
        <div class="live-clock-wrap">
          <svg class="live-clock-svg" viewBox="0 0 64 64"><circle cx="32" cy="32" r="28" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="6"/><circle id="liveClockArc" cx="32" cy="32" r="28" fill="none" stroke="#4EA8FF" stroke-width="6" stroke-linecap="round" stroke-dasharray="175.9" stroke-dashoffset="0" transform="rotate(-90 32 32)"/></svg>
          <div class="live-clock-text" id="liveClockText">20:00</div>
        </div>
      </div>
      <div class="live-blind-values">
        <div class="live-blind-box"><div class="live-blind-tag">SB</div><div class="live-blind-num" id="liveSB">10,000</div></div>
        <div class="live-blind-sep">/</div>
        <div class="live-blind-box"><div class="live-blind-tag">BB</div><div class="live-blind-num" id="liveBB">20,000</div></div>
        <div class="live-blind-sep">/</div>
        <div class="live-blind-box"><div class="live-blind-tag">ANTE</div><div class="live-blind-num" id="liveAnte">20,000</div></div>
      </div>
      <div class="live-blind-next"><span class="live-blind-next-label">NEXT â†’</span><span id="liveNextBlind">15,000 / 30,000 / 30,000</span></div>
    </div>
    <div class="live-level-card"><div class="live-section-title">ãƒ¬ãƒ™ãƒ«é€²è¡Œ</div><div class="live-level-list" id="liveLevelList"></div></div>
  </div>

  <!-- Sub: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ -->
  <div class="live-sub-content" id="ltab-players" style="display:none">
    <div class="live-level-card">
      <div style="position:relative;margin-bottom:12px"><input class="ev-form-input" id="livePlayerSearch" placeholder="ðŸ” ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼åã§æ¤œç´¢" oninput="filterLivePlayers()" style="padding:10px 14px;font-size:13px"></div>
      <div style="display:grid;grid-template-columns:36px 1fr 52px 52px;padding:8px 12px;font-family:var(--font-display);font-size:9px;letter-spacing:1.5px;text-transform:uppercase;color:var(--text-faint);font-weight:600;border-bottom:1px solid var(--border-light)">
        <span></span><span>ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ <span style="letter-spacing:0;text-transform:none;font-weight:500;color:var(--text-muted)" id="livePlayerCount">Â· 20å</span></span><span style="text-align:center">TABLE</span><span style="text-align:center">SEAT</span>
      </div>
      <div id="livePlayerList" style="max-height:440px;overflow-y:auto"></div>
    </div>
  </div>

  <!-- Sub: è³žé‡‘ -->
  <div class="live-sub-content" id="ltab-prize" style="display:none">
    <div class="live-level-card">
      <div style="display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:var(--radius-xs);font-size:12px;background:var(--gold-light);border:1px solid rgba(212,162,27,0.2);margin-bottom:4px"><div style="font-family:var(--font-display);font-size:18px;font-weight:700;color:var(--gold);width:32px;text-align:center">ðŸ¥‡</div><div style="flex:1;font-weight:700;color:var(--text)">1ä½</div><div style="font-family:var(--font-display);font-size:16px;font-weight:700;color:var(--text)">$18,969</div></div>
      <div style="display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:var(--radius-xs);font-size:12px;background:var(--bg-warm);margin-bottom:3px"><div style="font-family:var(--font-display);font-size:18px;font-weight:700;color:var(--text-muted);width:32px;text-align:center">ðŸ¥ˆ</div><div style="flex:1;font-weight:700;color:var(--text)">2ä½</div><div style="font-family:var(--font-display);font-size:16px;font-weight:700;color:var(--text)">$12,646</div></div>
      <div style="display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:var(--radius-xs);font-size:12px;background:var(--bg-warm);margin-bottom:3px"><div style="font-family:var(--font-display);font-size:18px;font-weight:700;color:#CD7F32;width:32px;text-align:center">ðŸ¥‰</div><div style="flex:1;font-weight:700;color:var(--text)">3ä½</div><div style="font-family:var(--font-display);font-size:16px;font-weight:700;color:var(--text)">$8,862</div></div>
      <div style="display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:var(--radius-xs);font-size:12px;margin-bottom:3px"><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--text-muted);width:32px;text-align:center">4</div><div style="flex:1;color:var(--text-mid)">4ä½</div><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--text-mid)">$6,323</div></div>
      <div style="display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:var(--radius-xs);font-size:12px;margin-bottom:3px"><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--text-muted);width:32px;text-align:center">5</div><div style="flex:1;color:var(--text-mid)">5ä½</div><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--text-mid)">$5,058</div></div>
      <div style="display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:var(--radius-xs);font-size:12px;margin-bottom:3px"><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--text-muted);width:32px;text-align:center">6</div><div style="flex:1;color:var(--text-mid)">6ä½</div><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--text-mid)">$3,794</div></div>
      <div style="display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:var(--radius-xs);font-size:12px;margin-bottom:3px"><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--text-muted);width:32px;text-align:center">7-8</div><div style="flex:1;color:var(--text-mid)">7ã€œ8ä½</div><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--text-mid)">$2,529</div></div>
      <div style="display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:var(--radius-xs);font-size:12px;margin-bottom:3px"><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--text-muted);width:32px;text-align:center">9-12</div><div style="flex:1;color:var(--text-mid)">9ã€œ12ä½</div><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--text-mid)">$1,897</div></div>
      <div style="display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:var(--radius-xs);font-size:12px;margin-bottom:3px"><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--text-muted);width:32px;text-align:center">13-18</div><div style="flex:1;color:var(--text-mid)">13ã€œ18ä½</div><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--text-mid)">$1,265</div></div>
      <div style="display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:var(--radius-xs);font-size:12px;margin-bottom:3px"><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--text-muted);width:32px;text-align:center">19-25</div><div style="flex:1;color:var(--text-mid)">19ã€œ25ä½</div><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--text-mid)">$949</div></div>
      <div style="display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:var(--radius-xs);font-size:12px;background:var(--green-bg);border:1px solid rgba(13,155,106,0.15)"><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--green);width:32px;text-align:center">26-31</div><div style="flex:1;color:var(--green);font-weight:600">26ã€œ31ä½ <span style="font-size:10px;opacity:0.7">ï¼ˆmin cashï¼‰</span></div><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--green)">$632</div></div>
      <div style="text-align:center;padding:12px 0 4px;font-size:11px;color:var(--text-muted)">ãƒ—ãƒ©ã‚¤ã‚ºãƒ—ãƒ¼ãƒ«ï¼ˆä»®ï¼‰: <strong style="font-family:var(--font-display);color:var(--blue)">$63,231</strong> Â· 31ä½ã¾ã§å…¥è³ž</div>
    </div>
  </div>

  <div class="nav-spacer"></div>
</div>

<!-- Player Stats Popup -->
<div class="ev-overlay" id="playerStatsOverlay" onclick="if(event.target===this)closePlayerStats()" style="display:none">
  <div class="ev-sheet" id="playerStatsSheet" style="max-height:85vh">
    <div class="ev-handle"></div>
    <div id="playerStatsContent"></div>
    <div style="padding:0 20px 24px"><button class="ev-btn-back" onclick="closePlayerStats()">é–‰ã˜ã‚‹</button></div>
  </div>
</div>

<!-- More Tab -->
<div class="section" id="tab-more">
  <div id="more-main">
    <div style="background:white;margin:14px;border-radius:var(--radius);border:1px solid var(--border-light);padding:18px;display:flex;align-items:center;gap:14px;box-shadow:var(--shadow-xs)">
      <div style="width:52px;height:52px;border-radius:18px;background:var(--blue-50);border:2.5px solid var(--blue);display:flex;align-items:center;justify-content:center;font-family:var(--font-display);font-size:20px;font-weight:700;color:var(--blue);flex-shrink:0">TK</div>
      <div style="flex:1"><div style="font-size:15px;font-weight:700">åŠ è—¤ å‰›</div><div style="font-size:11px;color:var(--blue);letter-spacing:1px;font-weight:600">JOPT-04892</div><div style="font-size:11px;color:var(--text-muted)">Elite Â· Tokyo Â· since 2019</div></div>
      <div style="font-size:20px;color:var(--text-faint)">â€º</div>
    </div>
    <div class="more-section-title">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ</div>
    <div class="more-list">
      <div class="more-item" onclick="showMorePanel('profile')"><div class="more-item-icon" style="background:var(--blue-50)">âœï¸</div><div class="more-item-body"><div class="more-item-label">ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†</div><div class="more-item-sub">åå‰ãƒ»æ‰€åœ¨åœ°ãƒ»ã‚¢ãƒã‚¿ãƒ¼</div></div><div class="more-item-arrow">â€º</div></div>
      <div class="more-item" onclick="showMorePanel('notify')"><div class="more-item-icon" style="background:var(--amber-light)">ðŸ””</div><div class="more-item-body"><div class="more-item-label">é€šçŸ¥è¨­å®š</div><div class="more-item-sub">å¤§ä¼šãƒ»ãƒ©ã‚¤ãƒ–ãƒ»ãƒ©ãƒ³ã‚­ãƒ³ã‚°</div></div><div class="more-item-arrow">â€º</div></div>
    </div>
    <div class="more-section-title">ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£</div>
    <div class="more-list">
      <div class="more-item" onclick="showMorePanel('share')"><div class="more-item-icon" style="background:var(--green-light)">ðŸ“¤</div><div class="more-item-body"><div class="more-item-label">æˆç¸¾ã‚·ã‚§ã‚¢</div><div class="more-item-sub">SNSç”¨ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚«ãƒ¼ãƒ‰ç”Ÿæˆ</div></div><div class="more-item-arrow">â€º</div></div>
      <div class="more-item" onclick="showMorePanel('friends')"><div class="more-item-icon" style="background:var(--purple-light)">ðŸ‘¥</div><div class="more-item-body"><div class="more-item-label">ãƒ•ãƒ¬ãƒ³ãƒ‰ / ãƒ•ã‚©ãƒ­ãƒ¼</div><div class="more-item-sub">8äººãƒ•ã‚©ãƒ­ãƒ¼ä¸­ Â· 12äººãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼</div></div><div class="more-item-arrow">â€º</div></div>
    </div>
    <div class="more-section-title">æƒ…å ±</div>
    <div class="more-list">
      <div class="more-item" onclick="showMorePanel('gameid')"><div class="more-item-icon" style="background:var(--green-50)">ðŸŽ®</div><div class="more-item-body"><div class="more-item-label">GameID ã¨ã®é€£æº</div><div class="more-item-sub">æ®‹é«˜ <strong style="color:var(--blue)">3,250 pt</strong> Â· é€£æºæ¸ˆã¿</div></div><div class="more-item-arrow">â€º</div></div>
      <div class="more-item" onclick="showMorePanel('rulebook')"><div class="more-item-icon" style="background:var(--red-light)">ðŸ“–</div><div class="more-item-body"><div class="more-item-label">ãƒ«ãƒ¼ãƒ«ãƒ–ãƒƒã‚¯</div><div class="more-item-sub">JOPTå…¬å¼ãƒ«ãƒ¼ãƒ«ãƒ»ã‚ˆãã‚ã‚‹è³ªå•</div></div><div class="more-item-arrow">â€º</div></div>
      <div class="more-item" onclick="showMorePanel('badges')"><div class="more-item-icon" style="background:var(--gold-light)">ðŸ…</div><div class="more-item-body"><div class="more-item-label">ãƒãƒƒã‚¸ãƒ»å®Ÿç¸¾ä¸€è¦§</div><div class="more-item-sub">7 / 20 ç²å¾—æ¸ˆã¿</div></div><div class="more-item-arrow">â€º</div></div>
    </div>
    <div class="more-section-title" style="padding-top:10px">æ‰‹ç¶šã</div>
    <div class="more-list">
      <div class="more-item" onclick="showMorePanel('receipt')"><div class="more-item-icon" style="background:var(--amber-light)">ðŸ§¾</div><div class="more-item-body"><div class="more-item-label">é ˜åŽæ›¸ç™ºè¡Œ</div><div class="more-item-sub">ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒ•ã‚£ãƒ¼ã®é ˜åŽæ›¸ã‚’è‡ªå‹•ç™ºè¡Œ</div></div><div class="more-item-arrow">â€º</div></div>
      <div class="more-item" onclick="showMorePanel('contract')"><div class="more-item-icon" style="background:var(--blue-50)">ðŸ“‹</div><div class="more-item-body"><div class="more-item-label">é¸æ‰‹å¥‘ç´„ã®å±¥è¡Œ</div><div class="more-item-sub">å¥‘ç´„å†…å®¹ã®ç¢ºèªãƒ»ç½²å</div></div><div class="more-item-arrow">â€º</div></div>
    </div>
    <div class="more-list" style="margin-top:8px">
      <div class="more-item" style="color:var(--text-muted)"><div class="more-item-icon" style="background:var(--bg)">â“</div><div class="more-item-body"><div class="more-item-label" style="color:var(--text-muted)">ãŠå•ã„åˆã‚ã›</div><div class="more-item-sub">support@jopt.jp</div></div><div class="more-item-arrow">â€º</div></div>
    </div>
    <div style="text-align:center;padding:22px 16px;font-size:10px;color:var(--text-faint);letter-spacing:1.5px;font-family:var(--font-display)">JOPT PLAYER v2.6.0 Â· Â© 2026 JOPT</div>
    <div class="nav-spacer"></div>
  </div>

  <!-- Sub-panels (simplified for key ones) -->
  <div class="more-panel" id="panel-profile">
    <div class="more-back" onclick="hideMorePanel()">â€¹ ãã®ä»–</div>
    <div class="profile-edit-form">
      <div class="profile-edit-avatar">TK</div>
      <div class="profile-edit-hint">ã‚¿ãƒƒãƒ—ã—ã¦å†™çœŸã‚’å¤‰æ›´</div>
      <div class="ev-form-group"><label class="ev-form-label">è¡¨ç¤ºåï¼ˆæ—¥æœ¬èªžï¼‰</label><input class="ev-form-input" value="åŠ è—¤ å‰›"></div>
      <div class="ev-form-group"><label class="ev-form-label">è¡¨ç¤ºåï¼ˆè‹±èªžï¼‰</label><input class="ev-form-input" value="Takeshi Kato"></div>
      <div class="ev-form-group"><label class="ev-form-label">æ‰€åœ¨åœ°</label><input class="ev-form-input" value="Tokyo"></div>
      <div class="ev-form-group"><label class="ev-form-label">SNSãƒªãƒ³ã‚¯</label><input class="ev-form-input" placeholder="@twitter / Instagram ãªã©"></div>
      <button class="ev-btn-entry" style="margin-top:8px">ä¿å­˜ã™ã‚‹</button>
    </div>
    <div class="nav-spacer"></div>
  </div>
  <div class="more-panel" id="panel-notify">
    <div class="more-back" onclick="hideMorePanel()">â€¹ ãã®ä»–</div>
    <div style="padding:16px"><div class="more-section-title" style="padding:8px 0 8px">é€šçŸ¥è¨­å®š</div>
      <div class="more-list">
        <div class="more-item" style="justify-content:space-between"><div class="more-item-body"><div class="more-item-label">å¤§ä¼šã‚¨ãƒ³ãƒˆãƒªãƒ¼ç¢ºå®š</div></div><label class="toggle-wrap"><input type="checkbox" checked class="toggle-cb"><span class="toggle-track on"><span class="toggle-thumb" style="left:22px"></span></span></label></div>
        <div class="more-item" style="justify-content:space-between"><div class="more-item-body"><div class="more-item-label">ãƒ©ã‚¤ãƒ–æ›´æ–°</div></div><label class="toggle-wrap"><input type="checkbox" checked class="toggle-cb"><span class="toggle-track on"><span class="toggle-thumb" style="left:22px"></span></span></label></div>
        <div class="more-item" style="justify-content:space-between"><div class="more-item-body"><div class="more-item-label">ãƒ©ãƒ³ã‚­ãƒ³ã‚°å¤‰å‹•</div></div><label class="toggle-wrap"><input type="checkbox" checked class="toggle-cb"><span class="toggle-track on"><span class="toggle-thumb" style="left:22px"></span></span></label></div>
        <div class="more-item" style="justify-content:space-between"><div class="more-item-body"><div class="more-item-label">ãƒ•ãƒ¬ãƒ³ãƒ‰ã®çµæžœ</div></div><label class="toggle-wrap"><input type="checkbox" class="toggle-cb"><span class="toggle-track"><span class="toggle-thumb"></span></span></label></div>
      </div>
    </div><div class="nav-spacer"></div>
  </div>
  <div class="more-panel" id="panel-share">
    <div class="more-back" onclick="hideMorePanel()">â€¹ ãã®ä»–</div>
    <div style="padding-top:4px">
      <div class="share-card-preview">
        <div style="font-family:var(--font-display);font-size:10px;letter-spacing:3px;color:rgba(255,255,255,0.3);margin-bottom:8px;font-weight:600">JOPT PLAYER CARD</div>
        <div class="share-card-name">TAKESHI KATO</div>
        <div class="share-card-id">JOPT-04892 Â· ELITE</div>
        <div class="share-card-stats"><div><div class="share-card-stat-val">3</div><div class="share-card-stat-lbl">å„ªå‹</div></div><div><div class="share-card-stat-val">S</div><div class="share-card-stat-lbl">JOPTãƒ©ãƒ³ã‚¯</div></div><div><div class="share-card-stat-val">#3</div><div class="share-card-stat-lbl">ãƒ©ãƒ³ã‚­ãƒ³ã‚°</div></div></div>
      </div>
      <div style="padding:0 14px;display:flex;flex-direction:column;gap:10px">
        <button class="share-btn" style="background:var(--blue)">ðŸ¦ Xï¼ˆTwitterï¼‰ã§ã‚·ã‚§ã‚¢</button>
        <button class="share-btn" style="background:#E1306C">ðŸ“¸ Instagramã§ã‚·ã‚§ã‚¢</button>
        <button class="share-btn" style="background:#25D366">ðŸ’¬ LINEã§ã‚·ã‚§ã‚¢</button>
        <button class="share-btn" style="background:var(--bg);color:var(--text);border:1px solid var(--border)">ðŸ“‹ ç”»åƒã‚’ã‚³ãƒ”ãƒ¼</button>
      </div>
    </div><div class="nav-spacer"></div>
  </div>
  <div class="more-panel" id="panel-friends">
    <div class="more-back" onclick="hideMorePanel()">â€¹ ãã®ä»–</div>
    <div style="padding:14px 16px"><input class="ev-form-input" placeholder="ðŸ” ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼IDã¾ãŸã¯åå‰ã§æ¤œç´¢" style="margin-bottom:0"></div>
    <div class="more-section-title">ãƒ•ã‚©ãƒ­ãƒ¼ä¸­ï¼ˆ8ï¼‰</div>
    <div style="background:white;margin:0 14px;border-radius:var(--radius);border:1px solid var(--border-light);overflow:hidden">
      <div class="friend-item"><div class="friend-avatar">TJ</div><div class="friend-body"><div class="friend-name">ç”°ä¸­ ä¿Šä»‹</div><div class="friend-sub">Tokyo</div></div><div class="friend-rank">#1</div></div>
      <div class="friend-item"><div class="friend-avatar">YD</div><div class="friend-body"><div class="friend-name">å±±æœ¬ å¤§è¼</div><div class="friend-sub">Osaka</div></div><div class="friend-rank">#2</div></div>
      <div class="friend-item"><div class="friend-avatar">SY</div><div class="friend-body"><div class="friend-name">ä½è—¤ å„ªèŠ±</div><div class="friend-sub">Nagoya</div></div><div class="friend-rank">#3</div></div>
      <div class="friend-item"><div class="friend-avatar">KM</div><div class="friend-body"><div class="friend-name">å°æž— éº»è¡£</div><div class="friend-sub">Sapporo</div></div><div class="friend-rank">#6</div></div>
      <div class="friend-item"><div class="friend-avatar">WT</div><div class="friend-body"><div class="friend-name">æ¸¡è¾º æ‹“æµ·</div><div class="friend-sub">Tokyo</div></div><div class="friend-rank">#7</div></div>
    </div><div class="nav-spacer"></div>
  </div>
  <div class="more-panel" id="panel-gameid"><div class="more-back" onclick="hideMorePanel()">â€¹ ãã®ä»–</div>
    <div style="padding:16px">
      <div style="background:linear-gradient(145deg,var(--blue),var(--blue-800));border-radius:var(--radius);padding:22px;color:white;margin-bottom:16px;position:relative;overflow:hidden">
        <div style="position:absolute;right:-10px;top:-20px;font-size:100px;opacity:0.04">ðŸŽ®</div>
        <div style="font-family:var(--font-display);font-size:10px;letter-spacing:3px;color:rgba(255,255,255,0.4);margin-bottom:6px;font-weight:600">GAME ID</div>
        <div style="font-family:var(--font-display);font-size:22px;font-weight:700">GID-88421-KT</div>
        <div style="font-size:11px;color:rgba(255,255,255,0.5);margin-top:2px;margin-bottom:18px">åŠ è—¤ å‰› Â· é€£æºæ¸ˆã¿ âœ“</div>
        <div style="background:rgba(255,255,255,0.08);border-radius:var(--radius-sm);padding:14px;display:flex;align-items:center;justify-content:space-between">
          <div><div style="font-size:10px;letter-spacing:1.5px;color:rgba(255,255,255,0.4);text-transform:uppercase;margin-bottom:2px">ãƒã‚¤ãƒ³ãƒˆæ®‹é«˜</div><div style="font-family:var(--font-display);font-size:32px;font-weight:800">3,250 <span style="font-size:14px;opacity:0.6">pt</span></div></div>
          <div style="text-align:right"><div style="font-size:10px;color:rgba(255,255,255,0.4);margin-bottom:4px">æœ‰åŠ¹æœŸé™</div><div style="font-size:13px;font-weight:600">2026.12.31</div></div>
        </div>
      </div>
      <button class="ev-btn-entry" style="margin-bottom:10px">ãƒã‚¤ãƒ³ãƒˆã‚’ä½¿ã† â†’</button>
      <button class="ev-btn-back">é€£æºã‚’è§£é™¤ã™ã‚‹</button>
    </div><div class="nav-spacer"></div>
  </div>
  <div class="more-panel" id="panel-receipt"><div class="more-back" onclick="hideMorePanel()">â€¹ ãã®ä»–</div>
    <div style="padding:16px">
      <div style="font-family:var(--font-display);font-size:10px;letter-spacing:2.5px;text-transform:uppercase;color:var(--text-muted);margin-bottom:10px;font-weight:600">ç™ºè¡Œã™ã‚‹å¤§ä¼šã‚’é¸æŠž</div>
      <div id="receipt-list" style="background:white;border-radius:var(--radius);border:1px solid var(--border-light);overflow:hidden;margin-bottom:16px">
        <div class="receipt-ev-item active" data-fee="70000" data-ev="JOPT Main Event 2024" data-date="2024.09.15" onclick="selectReceiptEv(this)"><div style="flex:1"><div style="font-size:13px;font-weight:700">JOPT Main Event 2024</div><div style="font-size:11px;color:var(--text-muted)">2024.09.15 Â· Sapporo</div></div><div style="font-family:var(--font-display);font-size:15px;font-weight:700;color:var(--blue)">Â¥70,000</div><div class="receipt-check">âœ“</div></div>
        <div class="receipt-ev-item" data-fee="15000" data-ev="NLH Builder" data-date="2024.02.21" onclick="selectReceiptEv(this)"><div style="flex:1"><div style="font-size:13px;font-weight:700">NLH Builder</div><div style="font-size:11px;color:var(--text-muted)">2024.02.21 Â· Tokyo</div></div><div style="font-family:var(--font-display);font-size:15px;font-weight:700;color:var(--blue)">Â¥15,000</div><div class="receipt-check"></div></div>
      </div>
      <div class="ev-form-group"><label class="ev-form-label">å®›åï¼ˆä»»æ„ï¼‰</label><input class="ev-form-input" id="receipt-name" placeholder="å€‹äººåãƒ»ä¼šç¤¾åãªã©ï¼ˆç©ºç™½å¯ï¼‰"></div>
      <button class="ev-btn-entry" onclick="generateReceipt()">é ˜åŽæ›¸ã‚’ç™ºè¡Œã™ã‚‹ ðŸ“„</button>
    </div>
    <div id="receipt-preview" style="display:none;position:fixed;inset:0;background:rgba(10,22,40,0.65);z-index:600;align-items:center;justify-content:center;padding:20px">
      <div style="background:white;width:100%;max-width:340px;border-radius:var(--radius);overflow:hidden;box-shadow:var(--shadow-lg)">
        <div id="receipt-paper" style="padding:28px 24px;background:white">
          <div style="text-align:center;margin-bottom:20px;border-bottom:2px solid #111;padding-bottom:16px"><div style="font-family:var(--font-display);font-size:22px;font-weight:800;letter-spacing:4px">é ˜ åŽ æ›¸</div><div style="font-size:10px;color:#888;letter-spacing:2px;margin-top:2px">RECEIPT</div></div>
          <div id="rp-name-row" style="margin-bottom:14px"><span id="rp-name" style="font-size:18px;font-weight:700;border-bottom:1.5px solid #111;padding-bottom:2px"></span><span id="rp-sama" style="font-size:13px;margin-left:4px"></span></div>
          <div style="font-family:var(--font-display);font-size:30px;font-weight:800;margin-bottom:14px">Â¥<span id="rp-amount">70,000</span><span style="font-size:12px;font-weight:400;font-family:var(--font-body);color:#888">ï¼ˆç¨Žè¾¼ï¼‰</span></div>
          <table style="width:100%;font-size:12px;border-top:1px solid #eee;margin-bottom:14px"><tr><td style="padding:6px 0;color:#888;width:60px">åç›®</td><td style="text-align:right;font-weight:600">æ–½è¨­åˆ©ç”¨æ–™ã¨ã—ã¦</td></tr><tr style="border-top:1px solid #eee"><td style="padding:6px 0;color:#888">å¤§ä¼šå</td><td id="rp-ev" style="text-align:right;font-weight:600">JOPT Main Event 2024</td></tr><tr style="border-top:1px solid #eee"><td style="padding:6px 0;color:#888">é–‹å‚¬æ—¥</td><td id="rp-date" style="text-align:right">2024.09.15</td></tr><tr style="border-top:1px solid #eee"><td style="padding:6px 0;color:#888">ç™ºè¡Œæ—¥</td><td id="rp-issued" style="text-align:right"></td></tr></table>
          <div style="border-top:1px solid #eee;padding-top:12px;display:flex;justify-content:space-between;align-items:flex-end"><div><div style="font-family:var(--font-display);font-size:13px;font-weight:700;letter-spacing:1px">JAPAN OPEN POKER TOUR</div><div style="font-size:10px;color:#888;margin-top:2px">ã€’060-0001 åŒ—æµ·é“æœ­å¹Œå¸‚ä¸­å¤®åŒºåŒ—1æ¡è¥¿2ä¸ç›®</div><div style="font-size:10px;color:#888">ç™»éŒ²ç•ªå·ï¼šT1234567890123</div></div><div style="width:44px;height:44px;border:2px solid #111;border-radius:6px;display:flex;align-items:center;justify-content:center;font-family:var(--font-display);font-size:8px;font-weight:700;color:#111;letter-spacing:0.5px;text-align:center;line-height:1.4;flex-shrink:0;margin-left:8px">JOPT<br>å…¬å¼å°</div></div>
        </div>
        <div style="padding:12px 16px;background:var(--bg);display:flex;gap:10px"><button onclick="document.getElementById('receipt-preview').style.display='none'" style="flex:1;padding:12px;border:1px solid var(--border);border-radius:var(--radius-sm);background:white;font-size:13px;cursor:pointer">é–‰ã˜ã‚‹</button><button onclick="window.print()" style="flex:2;padding:12px;background:var(--blue);color:white;border:none;border-radius:var(--radius-sm);font-family:var(--font-display);font-size:15px;font-weight:700;letter-spacing:1px;cursor:pointer">ä¿å­˜ / å°åˆ·</button></div>
      </div>
    </div>
    <div class="nav-spacer"></div>
  </div>
  <div class="more-panel" id="panel-contract"><div class="more-back" onclick="hideMorePanel()">â€¹ ãã®ä»–</div>
    <div style="margin:14px;background:white;border-radius:var(--radius);border:1px solid var(--border-light);overflow:hidden">
      <div style="background:linear-gradient(145deg,var(--blue),var(--blue-800));padding:18px;color:white"><div style="font-family:var(--font-display);font-size:10px;letter-spacing:3px;color:rgba(255,255,255,0.4);margin-bottom:4px;font-weight:600">é¸æ‰‹å¥‘ç´„æ›¸</div><div style="font-family:var(--font-display);font-size:18px;font-weight:700">JOPT Player Agreement 2026</div><div style="font-size:11px;color:rgba(255,255,255,0.5);margin-top:4px">æœ‰åŠ¹æœŸé–“ï¼š2026.01.01 ã€œ 2026.12.31</div></div>
      <div style="display:flex;padding:14px 16px;align-items:center"><div style="text-align:center;flex:1"><div class="cstep-dot done" id="cstep1dot">âœ“</div><div style="font-size:10px;color:var(--text-muted);margin-top:4px">å†…å®¹ç¢ºèª</div></div><div class="cstep-line" id="cline1"></div><div style="text-align:center;flex:1"><div class="cstep-dot" id="cstep2dot">2</div><div style="font-size:10px;color:var(--text-muted);margin-top:4px">ç½²å</div></div><div class="cstep-line" id="cline2"></div><div style="text-align:center;flex:1"><div class="cstep-dot" id="cstep3dot">3</div><div style="font-size:10px;color:var(--text-muted);margin-top:4px">æå‡ºå®Œäº†</div></div></div>
    </div>
    <div id="contract-page-1" style="padding:0 14px 14px">
      <div style="background:white;border-radius:var(--radius);border:1px solid var(--border-light);padding:16px;max-height:240px;overflow-y:auto;font-size:12px;color:var(--text-mid);line-height:1.8;margin-bottom:12px">
        <div style="font-weight:700;font-size:13px;margin-bottom:10px;text-align:center">JOPT é¸æ‰‹å‚åŠ å¥‘ç´„æ›¸</div>
        <p style="margin-bottom:8px">æœ¬å¥‘ç´„ã¯ã€Japan Open Poker Tourï¼ˆä»¥ä¸‹ã€ŒJOPTã€ï¼‰ãŒä¸»å‚¬ã™ã‚‹ãƒˆãƒ¼ãƒŠãƒ¡ãƒ³ãƒˆã«å‚åŠ ã™ã‚‹é¸æ‰‹ï¼ˆä»¥ä¸‹ã€Œé¸æ‰‹ã€ï¼‰ã¨ã®é–“ã§ç· çµã•ã‚Œã¾ã™ã€‚</p>
        <p style="font-weight:700;margin:10px 0 4px">ç¬¬1æ¡ï¼ˆå‚åŠ è³‡æ ¼ï¼‰</p><p style="margin-bottom:8px">é¸æ‰‹ã¯ã€JOPTãŒå®šã‚ã‚‹å‚åŠ è³‡æ ¼è¦ä»¶ã‚’æº€ãŸã—ã€æœ¬è¦ç´„ã«åŒæ„ã—ãŸä¸Šã§ãƒˆãƒ¼ãƒŠãƒ¡ãƒ³ãƒˆã«å‚åŠ ã™ã‚‹ã‚‚ã®ã¨ã—ã¾ã™ã€‚</p>
        <p style="font-weight:700;margin:10px 0 4px">ç¬¬2æ¡ï¼ˆãƒ•ã‚§ã‚¢ãƒ—ãƒ¬ãƒ¼ç¾©å‹™ï¼‰</p><p style="margin-bottom:8px">é¸æ‰‹ã¯ã™ã¹ã¦ã®ã‚²ãƒ¼ãƒ ã«ãŠã„ã¦ãƒ•ã‚§ã‚¢ãƒ—ãƒ¬ãƒ¼ç²¾ç¥žã«å‰‡ã‚Šã€ä¸æ­£è¡Œç‚ºã‚’ä¸€åˆ‡è¡Œã‚ãªã„ã“ã¨ã‚’èª“ç´„ã—ã¾ã™ã€‚</p>
      </div>
      <label style="display:flex;align-items:center;gap:10px;padding:12px 0;cursor:pointer;font-size:13px;color:var(--text-mid)"><input type="checkbox" id="contract-agree-cb" style="width:18px;height:18px;accent-color:var(--blue)">ä¸Šè¨˜ã®å†…å®¹ã‚’ã™ã¹ã¦èª­ã¿ã€åŒæ„ã—ã¾ã™</label>
      <button class="ev-btn-entry" onclick="goContractSign()">æ¬¡ã¸ï¼šç½²åã™ã‚‹ â†’</button>
    </div>
    <div id="contract-page-2" style="display:none;padding:0 14px 14px">
      <div style="background:white;border-radius:var(--radius);border:1px solid var(--border-light);padding:16px;margin-bottom:14px">
        <div style="font-size:12px;color:var(--text-muted);margin-bottom:10px">ä¸‹ã®ã‚¨ãƒªã‚¢ã«æŒ‡ã§ã‚µã‚¤ãƒ³ã—ã¦ãã ã•ã„</div>
        <canvas id="signCanvas" width="600" height="160" style="width:100%;height:140px;border:1.5px dashed var(--border);border-radius:var(--radius-xs);touch-action:none;cursor:crosshair;display:block"></canvas>
        <button onclick="clearSign()" style="margin-top:8px;background:none;border:none;font-size:12px;color:var(--text-muted);cursor:pointer;text-decoration:underline">ç½²åã‚’ã‚¯ãƒªã‚¢</button>
      </div>
      <div class="ev-form-group"><label class="ev-form-label">æ°åï¼ˆç¢ºèªï¼‰</label><input class="ev-form-input" id="contract-name" value="åŠ è—¤ å‰›"></div>
      <div class="ev-form-group"><label class="ev-form-label">æ—¥ä»˜</label><input class="ev-form-input" id="contract-date" readonly></div>
      <button class="ev-btn-entry" onclick="submitContract()" style="margin-bottom:10px">å¥‘ç´„ã‚’æå‡ºã™ã‚‹ âœ“</button>
      <button onclick="showContractPage(1)" class="ev-btn-back">â† æˆ»ã‚‹</button>
    </div>
    <div id="contract-page-3" style="display:none;padding:24px 16px;text-align:center">
      <div style="font-size:64px;margin-bottom:16px">âœ…</div>
      <div style="font-family:var(--font-display);font-size:22px;font-weight:700;margin-bottom:8px">æå‡ºå®Œäº†</div>
      <div style="font-size:13px;color:var(--text-muted);line-height:1.7;margin-bottom:24px">é¸æ‰‹å¥‘ç´„æ›¸ã®ç½²åãƒ»æå‡ºãŒå®Œäº†ã—ã¾ã—ãŸã€‚</div>
      <div style="background:var(--blue-50);border-radius:var(--radius-sm);padding:16px;text-align:left;margin-bottom:20px;border:1px solid var(--blue-100)"><div style="font-size:11px;color:var(--text-muted);margin-bottom:4px">å¥‘ç´„ID</div><div style="font-family:var(--font-display);font-size:16px;font-weight:700;color:var(--blue)">JPA-2026-04892</div><div style="font-size:11px;color:var(--text-muted);margin-top:8px;margin-bottom:2px">æå‡ºæ—¥æ™‚</div><div id="contract-submitted-at" style="font-size:13px;font-weight:600"></div></div>
      <button class="ev-btn-entry" onclick="hideMorePanel()">å®Œäº†</button>
    </div>
    <div class="nav-spacer"></div>
  </div>
  <div class="more-panel" id="panel-rulebook"><div class="more-back" onclick="hideMorePanel()">â€¹ ãã®ä»–</div>
    <div class="rule-section">
      <div class="rule-chapter"><div class="rule-chapter-title">1. ã‚¨ãƒ³ãƒˆãƒªãƒ¼è¦å®š</div><div class="rule-item"><div class="rule-num">1.1</div><div>ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã¯ä¼šå ´å—ä»˜ã«ã¦è¡Œã„ã¾ã™ã€‚ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼IDã‚’å¿…ãšã”æç¤ºãã ã•ã„ã€‚</div></div><div class="rule-item"><div class="rule-num">1.2</div><div>ãƒªã‚¨ãƒ³ãƒˆãƒªãƒ¼ã¯ãƒ¬ã‚¸ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†æ™‚åˆ»ã¾ã§ã«é™ã‚Šå—ã‘ä»˜ã‘ã¾ã™ã€‚</div></div><div class="rule-item"><div class="rule-num">1.3</div><div>ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚ã«åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000ãŒå¿…è¦ã§ã™ã€‚</div></div></div>
      <div class="rule-chapter"><div class="rule-chapter-title">2. ãƒãƒƒãƒ—ãƒ»ãƒ–ãƒ©ã‚¤ãƒ³ãƒ‰</div><div class="rule-item"><div class="rule-num">2.1</div><div>ã‚¹ã‚¿ãƒ¼ãƒˆãƒãƒƒãƒ—ã¯å„ã‚¤ãƒ™ãƒ³ãƒˆã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¡¨ã«è¨˜è¼‰ã®é€šã‚Šã§ã™ã€‚</div></div><div class="rule-item"><div class="rule-num">2.2</div><div>ãƒ–ãƒ©ã‚¤ãƒ³ãƒ‰ã‚¢ãƒƒãƒ—ã¯ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«é€šã‚Šã«è¡Œã‚ã‚Œã¾ã™ã€‚</div></div></div>
      <div class="rule-chapter"><div class="rule-chapter-title">3. ãƒãƒ³ãƒ‰ã®ãƒ«ãƒ¼ãƒ«</div><div class="rule-item"><div class="rule-num">3.1</div><div>English only ruleãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚</div></div><div class="rule-item"><div class="rule-num">3.2</div><div>ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯æ˜Žç¢ºã«è¡Œã£ã¦ãã ã•ã„ã€‚</div></div></div>
    </div><div class="nav-spacer"></div>
  </div>
  <div class="more-panel" id="panel-badges"><div class="more-back" onclick="hideMorePanel()">â€¹ ãã®ä»–</div>
    <div style="padding:12px 14px 0;font-size:12px;color:var(--text-muted);text-align:center">7 / 20 ãƒãƒƒã‚¸ç²å¾—æ¸ˆã¿</div>
    <div style="height:6px;background:var(--border-light);margin:10px 14px;border-radius:3px;overflow:hidden"><div style="width:35%;height:100%;background:linear-gradient(90deg,var(--blue),var(--blue-400));border-radius:3px"></div></div>
    <div class="badge-grid">
      <div class="badge-item"><div class="badge-icon earned">ðŸ†</div><div class="badge-label">ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³</div></div>
      <div class="badge-item"><div class="badge-icon earned">ðŸ…</div><div class="badge-label">å…¥è³ž10å›ž</div></div>
      <div class="badge-item"><div class="badge-icon earned">âš¡</div><div class="badge-label">ã‚¿ãƒ¼ãƒœçŽ‹</div></div>
      <div class="badge-item"><div class="badge-icon earned">ðŸŽ¯</div><div class="badge-label">ITM50%è¶…</div></div>
      <div class="badge-item"><div class="badge-icon earned">ðŸ’°</div><div class="badge-label">1Må††è¶…</div></div>
      <div class="badge-item"><div class="badge-icon earned">ðŸ”¥</div><div class="badge-label">3é€£ç¶šå…¥è³ž</div></div>
      <div class="badge-item"><div class="badge-icon earned">ðŸ‘‘</div><div class="badge-label">ãƒã‚¤ãƒ­ãƒ¼ãƒ©ãƒ¼</div></div>
      <div class="badge-item"><div class="badge-icon locked">ðŸŒŠ</div><div class="badge-label">ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¹ã‚¿ãƒƒã‚¯</div></div>
      <div class="badge-item"><div class="badge-icon locked">ðŸ¦</div><div class="badge-label">ãƒ•ã‚¡ã‚¤ãƒŠãƒ«3</div></div>
      <div class="badge-item"><div class="badge-icon locked">ðŸ’Ž</div><div class="badge-label">ç”Ÿæ¶¯10Må††</div></div>
      <div class="badge-item"><div class="badge-icon locked">ðŸƒ</div><div class="badge-label">PLOåˆ¶è¦‡</div></div>
      <div class="badge-item"><div class="badge-icon locked">â­</div><div class="badge-label">å®Œå…¨åˆ¶è¦‡</div></div>
    </div><div class="nav-spacer"></div>
  </div>
</div>

<!-- QR Popup -->
<div class="qr-overlay" id="qrOverlay" onclick="closeQROnBg(event)">
  <div class="qr-popup"><div class="qr-popup-title">Player ID</div><div class="qr-popup-name">åŠ è—¤ å‰›</div><div class="qr-popup-id">JOPT-04892</div><div class="qr-box"><canvas id="qrCanvas"></canvas></div><div class="qr-popup-note">ä¼šå ´å—ä»˜ã§ã“ã®QRã‚³ãƒ¼ãƒ‰ã‚’ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ãã ã•ã„</div><button class="qr-close-btn" onclick="closeQR()">é–‰ã˜ã‚‹</button></div>
</div>

<!-- JOPT Rank Popup -->
<div class="rank-popup-overlay" id="rankPopupOverlay" onclick="closeRankPopupOnBg(event)">
  <div class="rank-popup">
    <div class="rank-popup-handle"></div>
    <div class="rank-popup-title">JOPTãƒ©ãƒ³ã‚¯ã¨ã¯</div>
    <div class="rank-popup-sub">ä»¥ä¸‹ã®4æŒ‡æ¨™ã‚’ç·åˆè©•ä¾¡ã—ã¦ãƒ©ãƒ³ã‚¯ã‚’æ±ºå®šã—ã¾ã™</div>
    <div class="rank-factors">
      <div class="rank-factor"><div class="rank-factor-icon">ðŸ’°</div><div><div class="rank-factor-name">ç²å¾—è³žé‡‘é¡</div><div class="rank-factor-desc">ç´¯è¨ˆãƒ—ãƒ©ã‚¤ã‚ºç·é¡</div></div></div>
      <div class="rank-factor"><div class="rank-factor-icon">ðŸ†</div><div><div class="rank-factor-name">å„ªå‹å›žæ•°</div><div class="rank-factor-desc">ãƒãƒ£ãƒ³ãƒ”ã‚ªãƒ³ã‚¿ã‚¤ãƒˆãƒ«æ•°</div></div></div>
      <div class="rank-factor"><div class="rank-factor-icon">ðŸŽ¯</div><div><div class="rank-factor-name">ITMå›žæ•°</div><div class="rank-factor-desc">å…¥è³žã—ãŸå¤§ä¼šã®ç·æ•°</div></div></div>
      <div class="rank-factor"><div class="rank-factor-icon">ðŸ“Š</div><div><div class="rank-factor-name">ITMçŽ‡</div><div class="rank-factor-desc">å‚åŠ å¯¾æ¯”ã®å…¥è³žå‰²åˆ</div></div></div>
    </div>
    <div class="rank-pyramid">
      <div class="rank-pyramid-title">ãƒ©ãƒ³ã‚¯åˆ†å¸ƒ</div>
      <svg viewBox="0 0 400 280" xmlns="http://www.w3.org/2000/svg" style="width:100%;height:auto;display:block">
        <defs>
          <linearGradient id="gSS" x1="0" y1="0" x2="1" y2="0"><stop offset="0%" stop-color="#7C3AED"/><stop offset="100%" stop-color="#9F67FF"/></linearGradient>
          <linearGradient id="gS" x1="0" y1="0" x2="1" y2="0"><stop offset="0%" stop-color="#D4A21B"/><stop offset="100%" stop-color="#F5C842"/></linearGradient>
          <linearGradient id="gA" x1="0" y1="0" x2="1" y2="0"><stop offset="0%" stop-color="#1A6FE8"/><stop offset="100%" stop-color="#4A9AFF"/></linearGradient>
          <linearGradient id="gB" x1="0" y1="0" x2="1" y2="0"><stop offset="0%" stop-color="#0D9B6A"/><stop offset="100%" stop-color="#34D399"/></linearGradient>
          <linearGradient id="gC" x1="0" y1="0" x2="1" y2="0"><stop offset="0%" stop-color="#6B7280"/><stop offset="100%" stop-color="#9CA3AF"/></linearGradient>
        </defs>
        <!-- SS: top triangle -->
        <polygon points="200,4 160,56 240,56" fill="url(#gSS)"/>
        <!-- S -->
        <polygon points="160,60 120,112 280,112 240,60" fill="url(#gS)"/>
        <!-- A -->
        <polygon points="120,116 80,168 320,168 280,116" fill="url(#gA)"/>
        <!-- B -->
        <polygon points="80,172 40,224 360,224 320,172" fill="url(#gB)"/>
        <!-- C -->
        <polygon points="40,228 0,276 400,276 360,228" fill="url(#gC)"/>

        <!-- Labels -->
        <text x="200" y="42" text-anchor="middle" font-family="Outfit,sans-serif" font-size="18" font-weight="800" fill="white">SS</text>
        <text x="200" y="94" text-anchor="middle" font-family="Outfit,sans-serif" font-size="18" font-weight="800" fill="white">S</text>
        <text x="200" y="150" text-anchor="middle" font-family="Outfit,sans-serif" font-size="18" font-weight="800" fill="white">A</text>
        <text x="200" y="206" text-anchor="middle" font-family="Outfit,sans-serif" font-size="18" font-weight="800" fill="white">B</text>
        <text x="200" y="260" text-anchor="middle" font-family="Outfit,sans-serif" font-size="18" font-weight="800" fill="white">C</text>

        <!-- Percentages -->
        <text x="200" y="53" text-anchor="middle" font-size="9" fill="rgba(255,255,255,0.75)" letter-spacing="0.5">1%</text>
        <text x="268" y="100" text-anchor="start" font-size="10" fill="rgba(255,255,255,0.75)" letter-spacing="0.5">5%</text>
        <text x="306" y="156" text-anchor="start" font-size="10" fill="rgba(255,255,255,0.75)" letter-spacing="0.5">20%</text>
        <text x="346" y="212" text-anchor="start" font-size="10" fill="rgba(255,255,255,0.75)" letter-spacing="0.5">50%</text>
        <text x="380" y="266" text-anchor="start" font-size="10" fill="rgba(255,255,255,0.65)" letter-spacing="0.5">ä»–</text>

        <!-- YOU marker on S tier -->
        <rect x="110" y="76" width="56" height="20" rx="10" fill="white"/>
        <text x="138" y="90" text-anchor="middle" font-family="Outfit,sans-serif" font-size="10" font-weight="700" fill="#1A6FE8" letter-spacing="0.8">â† YOU</text>
      </svg>
    </div>
    <button class="rank-close-btn" onclick="closeRankPopup()">é–‰ã˜ã‚‹</button>
  </div>
</div>

<!-- GameID Popup -->
<div class="gid-overlay" id="gidOverlay" onclick="closeGIDOnBg(event)">
  <div class="gid-popup">
    <div class="gid-popup-handle"></div>
    <div class="gid-popup-header"><div class="gid-popup-header-label">GAME ID <span class="gid-verified-badge">âœ“ æ¤œè¨¼æ¸ˆã¿</span></div><div class="gid-number-large">8588.1022</div><div class="gid-username">MKING Â· åŠ è—¤ å‰›</div></div>
    <div class="gid-balance-bar"><div><div class="gid-balance-lbl">WEBã‚³ã‚¤ãƒ³æ®‹é«˜</div><div class="gid-balance-num">3,250<span class="gid-balance-unit"> pt</span></div></div><div style="text-align:right"><div class="gid-balance-lbl">æœ‰åŠ¹æœŸé™</div><div style="font-family:var(--font-display);font-size:16px;font-weight:700;color:var(--text)">2026.12.31</div></div></div>
    <div class="gid-qr-section"><div class="gid-qr-label">å—ä»˜ç”¨QRã‚³ãƒ¼ãƒ‰</div><div class="gid-qr-box"><canvas id="gidQrCanvas"></canvas></div><div class="gid-qr-note">ã“ã®QRã‚³ãƒ¼ãƒ‰ã‚’å—ä»˜ã§ã‚¹ã‚­ãƒ£ãƒ³ã—ã¦ã‚‚ã‚‰ã†ã¨<br>GameIDãŒç¢ºèªã•ã‚Œã‚¨ãƒ³ãƒˆãƒªãƒ¼ãŒå®Œäº†ã—ã¾ã™</div></div>
    <button class="gid-close-btn" onclick="closeGIDPopup()">é–‰ã˜ã‚‹</button>
  </div>
</div>

<!-- Bottom Nav -->
<nav class="bottom-nav">
  <div class="bottom-nav-item active" data-nav="stats"><div class="icon">ðŸ“Š</div><div>çµ±è¨ˆ</div></div>
  <div class="bottom-nav-item" data-nav="live"><div class="icon">ðŸ”´</div><div>ãƒ©ã‚¤ãƒ–</div></div>
  <div class="bottom-nav-item" data-nav="events"><div class="icon">ðŸƒ</div><div>å¤§ä¼š</div></div>
  <div class="bottom-nav-item" data-nav="ranking"><div class="icon">ðŸ¥‡</div><div>ãƒ©ãƒ³ã‚­ãƒ³ã‚°</div></div>
  <div class="bottom-nav-item" data-nav="wins"><div class="icon">ðŸ†</div><div>å„ªå‹</div></div>
  <div class="bottom-nav-item" data-nav="more"><div class="icon">â‹¯</div><div>ãã®ä»–</div></div>
</nav>

<script>
// Tab navigation
const tabItems = document.querySelectorAll('.tab-nav-item');
const sections = document.querySelectorAll('.section');
const navItems = document.querySelectorAll('.bottom-nav-item');

function switchTab(tabId) {
  tabItems.forEach(t => t.classList.toggle('active', t.dataset.tab === tabId));
  navItems.forEach(n => n.classList.toggle('active', n.dataset.nav === tabId));
  sections.forEach(s => s.classList.toggle('active', s.id === 'tab-' + tabId));
  if (tabId === 'ranking' && !window.rankInited) { window.rankInited = true; initRanking(); }
  if (tabId === 'live') startLive();
  if (tabId === 'more') { document.getElementById('more-main').style.display = ''; document.querySelectorAll('.more-panel').forEach(p => p.classList.remove('open')); }
}

tabItems.forEach(t => t.addEventListener('click', () => switchTab(t.dataset.tab)));
navItems.forEach(n => n.addEventListener('click', () => switchTab(n.dataset.nav)));

document.querySelectorAll('.filter-chip').forEach(chip => {
  chip.addEventListener('click', () => {
    chip.closest('.hist-filter').querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
    chip.classList.add('active');
  });
});

// â”€â”€ RANKING â”€â”€
const RANK_PLAYERS = [
  { name:'ç”°ä¸­ ä¿Šä»‹', city:'Tokyo', entries:62, itm:31, wins:6, prize:58000 },
  { name:'å±±æœ¬ å¤§è¼', city:'Osaka', entries:55, itm:24, wins:5, prize:49000 },
  { name:'ä½è—¤ å„ªèŠ±', city:'Nagoya', entries:48, itm:23, wins:4, prize:44500 },
  { name:'åŠ è—¤ å‰›', city:'Tokyo', entries:48, itm:19, wins:3, prize:40000, me:true },
  { name:'ä¸­æ‘ å¥å¤ª', city:'Fukuoka', entries:70, itm:28, wins:3, prize:36500 },
  { name:'å°æž— éº»è¡£', city:'Sapporo', entries:41, itm:18, wins:3, prize:33200 },
  { name:'æ¸¡è¾º æ‹“æµ·', city:'Tokyo', entries:53, itm:21, wins:2, prize:21800 },
  { name:'ä¼Šè—¤ é¥', city:'Kyoto', entries:38, itm:16, wins:2, prize:18400 },
  { name:'éˆ´æœ¨ èª ', city:'Osaka', entries:66, itm:25, wins:2, prize:16700 },
  { name:'æž— å¥ˆã€…', city:'Tokyo', entries:44, itm:17, wins:2, prize:14300 },
  { name:'æ©‹æœ¬ æ‚ ', city:'Nagoya', entries:35, itm:14, wins:1, prize:9200 },
  { name:'æœ¨æ‘ å½©', city:'Sendai', entries:29, itm:12, wins:1, prize:7600 },
  { name:'æ–Žè—¤ éš¼', city:'Sapporo', entries:57, itm:20, wins:1, prize:6900 },
  { name:'æ¸…æ°´ è‘µ', city:'Tokyo', entries:33, itm:13, wins:1, prize:5800 },
  { name:'å²¡ç”° é¾', city:'Osaka', entries:47, itm:16, wins:0, prize:3400 },
  { name:'è¥¿æ‘ ä¸ƒæµ·', city:'Fukuoka', entries:25, itm:10, wins:0, prize:2700 },
  { name:'æ¾æœ¬ é¢¯', city:'Tokyo', entries:61, itm:21, wins:0, prize:2500 },
  { name:'çŸ³ç”° æ¢¨èŠ±', city:'Kyoto', entries:19, itm:8, wins:0, prize:1600 },
  { name:'è—¤ç”° æµ·æ–—', city:'Nagoya', entries:42, itm:13, wins:0, prize:1400 },
  { name:'æ± ç”° æ¶¼', city:'Tokyo', entries:36, itm:11, wins:0, prize:1100 },
];
let currentRtype = 'itm-rate';

function getSorted(type) {
  return [...RANK_PLAYERS].map(p => ({ ...p, itmRate: p.entries > 0 ? p.itm / p.entries * 100 : 0 })).sort((a, b) =>
    type === 'itm-rate' ? b.itmRate - a.itmRate :
    type === 'itm-count' ? b.itm - a.itm || b.itmRate - a.itmRate :
    type === 'prize' ? (b.prize||0) - (a.prize||0) :
    b.wins - a.wins || b.itm - a.itm
  );
}
function fmtPrize(n) { return n == null ? '$0' : '$' + n.toLocaleString('en-US'); }

function renderRanking(type) {
  const sorted = getSorted(type);
  const medals = ['ðŸ¥‡','ðŸ¥ˆ','ðŸ¥‰'];
  const labels = { 'itm-rate':'ITMçŽ‡', 'itm-count':'ITMå›žæ•°', 'wins':'å„ªå‹å›žæ•°', 'prize':'ç²å¾—è³žé‡‘' };
  const hdr = document.getElementById('rankListHeader');
  if (hdr) hdr.innerHTML = `<span></span><span>ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼</span><span style="text-align:right">${labels[type]}</span>`;
  const listEl = document.getElementById('rankList');
  if (!listEl) return;
  listEl.innerHTML = sorted.map((p, i) => {
    const rank = i + 1;
    const val = type === 'itm-rate' ? p.itmRate.toFixed(1)+'%' : type === 'itm-count' ? p.itm+'å›ž' : type === 'prize' ? fmtPrize(p.prize) : p.wins+'å›ž';
    const posCell = rank <= 3 ? `<div class="rank-pos-cell medal">${medals[rank-1]}</div>` : `<div class="rank-pos-cell">${rank}</div>`;
    const youBadge = p.me ? '<span class="rank-you-badge">YOU</span>' : '';
    return `<div class="rank-row-item${p.me?' rank-me':''}">
      ${posCell}
      <div class="rank-info-cell"><div class="rank-info-name">${p.name} ${youBadge}</div><div class="rank-info-sub">${p.city} Â· ${p.entries}å¤§ä¼š</div></div>
      <div class="rank-val-cell">${val}</div>
    </div>`;
  }).join('');
  const myIdx = sorted.findIndex(p => p.me);
  const myP = sorted[myIdx];
  const banner = document.getElementById('rankMyBanner');
  if (banner && myP) {
    const myVal = type === 'itm-rate' ? myP.itmRate.toFixed(1)+'%' : type === 'itm-count' ? myP.itm+'å›ž' : type === 'prize' ? fmtPrize(myP.prize) : myP.wins+'å›ž';
    banner.innerHTML = `<div><div class="rank-my-banner-label">ã‚ãªãŸã®é †ä½ Â· ${labels[type]}</div><div class="rank-my-banner-sub">${myVal} Â· ${myP.entries}å¤§ä¼š</div></div>
      <div class="rank-my-banner-rank">#${myIdx+1}<span style="font-size:13px;opacity:0.6"> / ${sorted.length}</span></div>`;
  }
}
function initRanking() {
  renderRanking(currentRtype);
  document.querySelectorAll('.rank-type-btn[data-rtype]').forEach(btn => {
    btn.addEventListener('click', () => {
      document.querySelectorAll('.rank-type-btn[data-rtype]').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      currentRtype = btn.dataset.rtype;
      renderRanking(currentRtype);
    });
  });
}

// â”€â”€ QR CODE â”€â”€
function drawQR() {
  const canvas = document.getElementById('qrCanvas');
  if (!canvas) return;
  canvas.width = 180; canvas.height = 180;
  const ctx = canvas.getContext('2d');
  const seed = "JOPT-04892";
  const size = 21; const cell = Math.floor(180 / size);
  ctx.fillStyle = 'white'; ctx.fillRect(0, 0, 180, 180);
  let bits = [];
  for (let i = 0; i < size * size; i++) { const c = seed.charCodeAt(i % seed.length); bits.push((c * (i + 7) * 13 + i * 31) % 3 === 0); }
  const drawFinder = (ox, oy) => { ctx.fillStyle = '#0B1222'; ctx.fillRect(ox*cell, oy*cell, 7*cell, 7*cell); ctx.fillStyle = 'white'; ctx.fillRect((ox+1)*cell, (oy+1)*cell, 5*cell, 5*cell); ctx.fillStyle = '#0B1222'; ctx.fillRect((ox+2)*cell, (oy+2)*cell, 3*cell, 3*cell); };
  drawFinder(0,0); drawFinder(14,0); drawFinder(0,14);
  ctx.fillStyle = '#0B1222';
  for (let r = 0; r < size; r++) for (let c2 = 0; c2 < size; c2++) { const inFinder = (r<8&&c2<8)||(r<8&&c2>12)||(r>12&&c2<8); if (!inFinder && bits[r*size+c2]) ctx.fillRect(c2*cell, r*cell, cell, cell); }
}
function openQR() { document.getElementById('qrOverlay').classList.add('open'); document.body.style.overflow = 'hidden'; setTimeout(drawQR, 50); }
function closeQR() { document.getElementById('qrOverlay').classList.remove('open'); document.body.style.overflow = ''; }
function closeQROnBg(e) { if (e.target === document.getElementById('qrOverlay')) closeQR(); }

// â”€â”€ MORE TAB â”€â”€
function showMorePanel(name) {
  document.getElementById('more-main').style.display = 'none';
  document.querySelectorAll('.more-panel').forEach(p => p.classList.remove('open'));
  const panel = document.getElementById('panel-' + name);
  if (panel) panel.classList.add('open');
  if (name === 'contract') setTimeout(initSignCanvas, 100);
}
function hideMorePanel() { document.getElementById('more-main').style.display = ''; document.querySelectorAll('.more-panel').forEach(p => p.classList.remove('open')); }
document.addEventListener('click', e => {
  const cb = e.target.closest('.toggle-cb');
  if (!cb) return;
  const track = cb.nextElementSibling;
  const thumb = track && track.querySelector('.toggle-thumb');
  if (track) { track.classList.toggle('on', cb.checked); track.style.background = cb.checked ? 'var(--blue)' : '#D1D5DB'; }
  if (thumb) thumb.style.left = cb.checked ? '22px' : '2px';
});

// â”€â”€ EVENTS â”€â”€
const evData = {
  '01':  { num:'#01 Â· 02.20 Fri 19:00', name:'NLH Main Event Day 1A', fee:'Â¥70,000', chips:'50,000', prize:'$63,231', itm:'31st', reentry:true, notes:['åŒä¸€Day 1ã§ã®ãƒªã‚¨ãƒ³ãƒˆãƒªãƒ¼ã¯3åº¦ã¾ã§','Day2é€²å‡ºãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã¿ãƒ—ãƒ©ã‚¤ã‚ºç²å¾—æ¨©åˆ©','å„Day1ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚ãƒ»Day2é–‹å§‹æ™‚ã«åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '01b': { num:'#01 Â· 02.21 Sat 11:00', name:'NLH Main Event Day 1B', fee:'Â¥70,000', chips:'50,000', prize:'$63,231', itm:'31st', reentry:true, notes:['åŒä¸€Day 1ã§ã®ãƒªã‚¨ãƒ³ãƒˆãƒªãƒ¼ã¯3åº¦ã¾ã§','Day2é€²å‡ºãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã¿ãƒ—ãƒ©ã‚¤ã‚ºç²å¾—æ¨©åˆ©','ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '01c': { num:'#01 Â· 02.21 Sat 17:00', name:'NLH Main Event Day 1C Turbo', fee:'Â¥70,000', chips:'50,000', prize:'$63,231', itm:'31st', reentry:true, notes:['Turboãƒ¬ãƒ™ãƒ«æ§‹æˆ','åŒä¸€Day 1ã§ã®ãƒªã‚¨ãƒ³ãƒˆãƒªãƒ¼ã¯3åº¦ã¾ã§','ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '02':  { num:'#02 Â· 02.20 Fri 19:00', name:'NLH Warm-up', fee:'Â¥10,000', chips:'30,000', prize:'$3,448', itm:'11th', reentry:false, notes:['ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '03':  { num:'#03 Â· 02.20 Fri 20:00', name:'PLO Kick-off', fee:'Â¥12,000', chips:'30,000', prize:'$1,034', itm:'3rd', reentry:false, notes:['PLOï¼ˆãƒãƒƒãƒˆãƒ»ãƒªãƒŸãƒƒãƒˆãƒ»ã‚ªãƒžãƒï¼‰','ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '04':  { num:'#04 Â· 02.20 Fri 21:00', name:'NLH Superstack', fee:'Â¥15,000', chips:'40,000', prize:'$5,263', itm:'11th', reentry:false, notes:['ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '05':  { num:'#05 Â· 02.20 Fri 22:00', name:'FL 2-7TD & Badugi', fee:'Â¥12,000', chips:'30,000', prize:'$1,034', itm:'3rd', reentry:false, notes:['æœ€å¤§7max','FL 2-7TD â†’ FL Badugi ã®é †ã§6ãƒãƒ³ãƒ‰ã”ã¨ã«äº¤ä»£','ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '06':  { num:'#06 Â· 02.21 Sat 00:00', name:'NLH Bigstack Hyper', fee:'Â¥10,000', chips:'50,000', prize:'$1,724', itm:'6th', reentry:false, notes:['ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  's01': { num:'S01 Â· 02.21 Sat 01:00', name:'Satellite Â¥25,000 VoucherÃ—2', fee:'Â¥6,000', chips:'10,000', prize:'Â¥25,000 VoucherÃ—2', itm:'-', reentry:false, notes:['ã‚¨ãƒ³ãƒˆãƒªãƒ¼æ•°ã®1/10ãŒå…¥è³žäººæ•°','100,000ç‚¹ã§ãƒ•ãƒ­ã‚¢ã¸è‡ªå·±ç”³å‘Šã—ã¦é€šéŽ','Voucheræœ‰åŠ¹æœŸé™2026.09.31ï¼ˆJOPT Sapporoã®ã¿ï¼‰','1ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã§1æ¨©åˆ©ã®ã¿'] },
  '07':  { num:'#07 Â· 02.21 Sat 12:00', name:'NLH Builder', fee:'Â¥15,000', chips:'30,000', prize:'$4,306', itm:'9th', reentry:false, notes:['ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '08':  { num:'#08 Â· 02.21 Sat 16:00', name:'NLH Deepstack', fee:'Â¥12,000', chips:'30,000', prize:'$2,759', itm:'8th', reentry:false, notes:['ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  's03': { num:'S03 Â· 02.21 Sat 18:00', name:'Satellite â†’ Good Game 1000 (1/12)', fee:'Â¥10,000', chips:'10,000', prize:'GG1000 Entryæ¨©', itm:'-', reentry:false, notes:['ã‚¨ãƒ³ãƒˆãƒªãƒ¼æ•°ã®1/12ãŒå…¥è³žäººæ•°','120,000ç‚¹ã§ãƒ•ãƒ­ã‚¢ã¸è‡ªå·±ç”³å‘Š','Voucheræœ‰åŠ¹æœŸé™2026.09.31','1ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã§1æ¨©åˆ©ã®ã¿'] },
  '09':  { num:'#09 Â· 02.21 Sat 19:00', name:'NLH Good Game 1000', fee:'Â¥100,000', chips:'50,000', prize:'$24,142', itm:'8th', reentry:false, notes:['ãƒ—ãƒ¬ã‚¤ä¸­ã¯ãƒ‰ãƒªãƒ³ã‚¯ãŒé£²ã¿æ”¾é¡Œ'] },
  '10':  { num:'#10 Â· 02.21 Sat 19:00', name:'NLH Mystery Bounty (by ã®ã‚€ã‚·ãƒªã‚«)', fee:'Â¥25,000', chips:'30,000', prize:'$4,807 + Bounty', itm:'7th', reentry:false, notes:['29åæ™‚ç‚¹ã§Bounty Chipé…å¸ƒ','ãƒŽãƒƒã‚¯ã‚¢ã‚¦ãƒˆã§ç›¸æ‰‹ã®Bountyã‚’ç²å¾—','Bountyã¯POKERWEB COINã§ä»˜ä¸Ž','ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '11':  { num:'#11 Â· 02.21 Sat 20:00', name:'FL Triple Draw MIX', fee:'Â¥20,000', chips:'40,000', prize:'$2,552', itm:'5th', reentry:false, notes:['æœ€å¤§7max','FL 2-7TD â†’ FL Badugi â†’ FL A-5TD ã®é †ã§6ãƒãƒ³ãƒ‰ã”ã¨','ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '12':  { num:'#12 Â· 02.21 Sat 22:00', name:'NLH Nightstack', fee:'Â¥15,000', chips:'30,000', prize:'$5,742', itm:'11th', reentry:false, notes:['ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '15':  { num:'#15 Â· 02.22 Sun 11:00', name:'NLH Poker Players Championship', fee:'Â¥25,000', chips:'50,000', prize:'$21,297', itm:'23rd', reentry:true, notes:['åŒä¸€Day 1ã§ã®ãƒªã‚¨ãƒ³ãƒˆãƒªãƒ¼ã¯3åº¦ã¾ã§','Day2é€²å‡ºãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã¿ãƒ—ãƒ©ã‚¤ã‚ºç²å¾—æ¨©åˆ©','ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '16':  { num:'#16 Â· 02.22 Sun 14:00', name:'NLH Monsterstack', fee:'Â¥20,000', chips:'50,000', prize:'$5,742', itm:'9th', reentry:false, notes:['ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  's05': { num:'S05 Â· 02.22 Sun 16:00', name:'Satellite â†’ NLH Crown (1/12)', fee:'Â¥20,000', chips:'10,000', prize:'Crown Entryæ¨©', itm:'-', reentry:false, notes:['ã‚¨ãƒ³ãƒˆãƒªãƒ¼æ•°ã®1/12ãŒå…¥è³žäººæ•°','120,000ç‚¹ã§ãƒ•ãƒ­ã‚¢ã¸è‡ªå·±ç”³å‘Š','1ã‚¨ãƒ³ãƒˆãƒªãƒ¼ã§1æ¨©åˆ©ã®ã¿'] },
  '17':  { num:'#17 Â· 02.22 Sun 17:00', name:'NLH Crown', fee:'Â¥200,000', chips:'200,000', prize:'$48,285', itm:'8th', reentry:false, notes:['ãƒ—ãƒ¬ã‚¤ä¸­ã¯ãƒ‰ãƒªãƒ³ã‚¯ãŒé£²ã¿æ”¾é¡Œ','1ä½: APT Voucher $1,500 / 2-3ä½: $1,000 / 4-6ä½: $500'] },
  '18':  { num:'#18 Â· 02.22 Sun 19:00', name:'NLH Tag Team (by ã‚¯ãƒ©ã‚¤ãƒŠãƒ¼)', fee:'Â¥25,000', chips:'40,000', prize:'$10,368', itm:'13th', reentry:false, notes:['ã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚ã¯ä»£è¡¨è€…1åãŒå—ä»˜ã¸','ãƒãƒ¼ãƒ å†…ã§ãƒãƒ³ãƒ‰æƒ…å ±å…±æœ‰ãƒ»ãƒ—ãƒ¬ã‚¤ç›¸è«‡å¯','æ¯Žã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚ã«Â¥2,000ã®ãƒ‰ãƒªãƒ³ã‚¯ä»£'] },
  '19':  { num:'#19 Â· 02.22 Sun 20:00', name:'NLH Good Game 500', fee:'Â¥50,000', chips:'50,000', prize:'$8,335', itm:'6th', reentry:false, notes:['ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '20':  { num:'#20 Â· 02.22 Sun 21:00', name:'NLH Nightstack', fee:'Â¥15,000', chips:'30,000', prize:'$2,871', itm:'7th', reentry:false, notes:['ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '21':  { num:'#21 Â· 02.22 Sun 22:00', name:'NLH Tag Team Turbo', fee:'Â¥15,000', chips:'30,000', prize:'$4,306', itm:'9th', reentry:false, notes:['æ¯Žã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚ã«Â¥2,000ã®ãƒ‰ãƒªãƒ³ã‚¯ä»£','ãƒãƒ¼ãƒ å†…ã§ãƒ—ãƒ¬ã‚¤ç›¸è«‡å¯'] },
  '24':  { num:'#24 Â· 02.23 Mon 10:00', name:'NLH Morning', fee:'Â¥10,000', chips:'20,000', prize:'$1,149', itm:'4th', reentry:false, notes:['å…ˆç€50åã«æœé£Ÿã‚»ãƒƒãƒˆï¼ˆãƒ‘ãƒ³ãƒ»ç‰›ä¹³ï¼‰','ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '25':  { num:'#25 Â· 02.23 Mon 11:00', name:'PLO Monster', fee:'Â¥20,000', chips:'50,000', prize:'$1,914', itm:'4th', reentry:false, notes:['PLOï¼ˆãƒãƒƒãƒˆãƒ»ãƒªãƒŸãƒƒãƒˆãƒ»ã‚ªãƒžãƒï¼‰','ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '26':  { num:'#26 Â· 02.23 Mon 12:00', name:'NLH Sapporo', fee:'Â¥50,000', chips:'50,000', prize:'$8,335', itm:'6th', reentry:false, notes:['ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '27':  { num:'#27 Â· 02.23 Mon 12:00', name:'NLH Megastack (by CHILLERS)', fee:'Â¥15,000', chips:'30,000', prize:'$3,828', itm:'8th', reentry:false, notes:['ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
  '28':  { num:'#28 Â· 02.23 Mon 12:00', name:'NLH Heads-up', fee:'Â¥20,000', chips:'20,000', prize:'-', itm:'-', reentry:false, notes:['1å¯¾1ã®ãƒ˜ãƒƒã‚ºã‚¢ãƒƒãƒ—å°‚ç”¨ãƒˆãƒ¼ãƒŠãƒ¡ãƒ³ãƒˆ'] },
  '30':  { num:'#30 Â· 02.23 Mon 16:00', name:'NLH Last Party', fee:'Â¥6,000', chips:'20,000', prize:'-', itm:'-', reentry:false, notes:['æœ€çµ‚æ—¥ã®ãŠæ¥½ã—ã¿ã‚¤ãƒ™ãƒ³ãƒˆ','ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¨ãƒ³ãƒˆãƒªãƒ¼æ™‚åˆ¥é€”ãƒ‰ãƒªãƒ³ã‚¯ä»£Â¥1,000'] },
};
let evCurrentId = null;
let selectedPayment = 'webcoin';

function openEvSheet(id) {
  evCurrentId = id;
  const t = evData[id]; if (!t) return;
  document.getElementById('evDetail').style.display = 'block';
  document.getElementById('evForm').style.display = 'none';
  document.getElementById('evSuccess').style.display = 'none';
  document.getElementById('evReentry').value = '0';
  document.getElementById('evSheetNum').textContent = t.num;
  document.getElementById('evSheetTitle').textContent = t.name;
  document.getElementById('evMeta').innerHTML = `
    <div class="ev-meta-box"><div class="ev-meta-label">ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒ•ã‚£ãƒ¼</div><div class="ev-meta-val blue">${t.fee}</div></div>
    <div class="ev-meta-box"><div class="ev-meta-label">ã‚¹ã‚¿ãƒ¼ãƒˆãƒãƒƒãƒ—</div><div class="ev-meta-val">${t.chips}</div></div>
    <div class="ev-meta-box"><div class="ev-meta-label">ãƒ—ãƒ©ã‚¤ã‚ºç·é¡ï¼ˆä»®ï¼‰</div><div class="ev-meta-val green">${t.prize}</div></div>
    <div class="ev-meta-box"><div class="ev-meta-label">å…¥è³žãƒ©ã‚¤ãƒ³</div><div class="ev-meta-val">${t.itm}</div></div>`;
  document.getElementById('evNotes').innerHTML = t.notes.map(n => `<div class="ev-note-item"><div class="ev-note-dot"></div><div>${n}</div></div>`).join('');
  document.getElementById('evOverlay').classList.add('open');
  document.body.style.overflow = 'hidden';
}
function closeEvOnBg(e) { if (e.target === document.getElementById('evOverlay')) closeEvSheet(); }
function closeEvSheet() { document.getElementById('evOverlay').classList.remove('open'); document.body.style.overflow = ''; }
function showEvForm() {
  const t = evData[evCurrentId];
  document.getElementById('evDetail').style.display = 'none';
  document.getElementById('evForm').style.display = 'block';
  document.getElementById('evFormTitle').textContent = t.name;
  document.getElementById('evReentryGrp').style.display = 'none';
  updateEvFee();
}
function updateEvFee() {
  const t = evData[evCurrentId];
  const feeNum = parseInt(t.fee.replace(/[Â¥,]/g,'')) || 0;
  document.getElementById('evFeeBox').innerHTML = `<div class="ev-fee-row"><span>ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒ•ã‚£ãƒ¼</span><span class="fval">${t.fee}</span></div><div class="ev-fee-row"><span>ãŠæ”¯æ‰•ã„åˆè¨ˆ</span><span class="fval">Â¥${feeNum.toLocaleString()}</span></div>`;
}
function backEvDetail() { document.getElementById('evDetail').style.display = 'block'; document.getElementById('evForm').style.display = 'none'; }
function selectPayment(method) {
  if (method === 'card') return;
  selectedPayment = method;
  ['cash','webcoin'].forEach(m => {
    const opt = document.getElementById('pay-' + m);
    const chk = document.getElementById('pay-check-' + m);
    if (m === method) { opt.classList.add('active'); chk.classList.add('active'); chk.textContent = 'âœ“'; }
    else { opt.classList.remove('active'); chk.classList.remove('active'); chk.textContent = ''; }
  });
}
function confirmEvEntry() {
  const t = evData[evCurrentId];
  document.getElementById('evForm').style.display = 'none';
  document.getElementById('evSuccess').style.display = 'block';
  document.getElementById('evSuccessEvName').textContent = t.name;
  const assignedTable = Math.floor(Math.random() * 12) + 1;
  const assignedSeat = Math.floor(Math.random() * 9) + 1;
  const tableEl = document.getElementById('evSeatTable');
  const seatEl = document.getElementById('evSeatNum');
  tableEl.textContent = 'â€”';
  seatEl.textContent = 'â€”';
  let tCount = 0;
  const tInterval = setInterval(() => {
    tableEl.textContent = Math.floor(Math.random() * 12) + 1;
    tCount++;
    if (tCount > 12) { clearInterval(tInterval); tableEl.textContent = assignedTable; }
  }, 80);
  setTimeout(() => {
    let sCount = 0;
    const sInterval = setInterval(() => {
      seatEl.textContent = Math.floor(Math.random() * 9) + 1;
      sCount++;
      if (sCount > 10) { clearInterval(sInterval); seatEl.textContent = assignedSeat; }
    }, 80);
  }, 300);
  const payNote = selectedPayment === 'cash'
    ? 'ðŸ’´ ç¾é‡‘æ‰•ã„ï¼šä¼šå ´å—ä»˜ã«ã¦ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼IDã‚’ã”æç¤ºãã ã•ã„'
    : 'ðŸŽ® WEBã‚³ã‚¤ãƒ³ã§æ±ºæ¸ˆãŒå®Œäº†ã—ã¾ã—ãŸ';
  document.getElementById('evSuccessNote').textContent = payNote;
}
document.querySelectorAll('.ev-chip').forEach(chip => {
  chip.addEventListener('click', () => {
    document.querySelectorAll('.ev-chip').forEach(c => c.classList.remove('active'));
    chip.classList.add('active');
    const f = chip.dataset.filter;
    document.querySelectorAll('.ev-card').forEach(c => { c.style.display = (f==='all') ? '' : (f==='satellite') ? (c.dataset.satellite?'':'none') : (c.dataset.day===f?'':'none'); });
    document.querySelectorAll('.ev-day-hd').forEach(h => { h.style.display = (f==='all') ? '' : (f==='satellite') ? 'none' : (h.dataset.day===f?'':'none'); });
  });
});

// â”€â”€ LIVE MONITOR â”€â”€
const LIVE_LEVELS = [
  { lv:16, sb:5000, bb:10000, ante:10000, mins:35, brk:false },
  { lv:17, sb:6000, bb:12000, ante:12000, mins:35, brk:false },
  { lv:18, sb:10000, bb:20000, ante:20000, mins:35, brk:false },
  { lv:19, sb:10000, bb:20000, ante:20000, mins:35, brk:true },
  { lv:20, sb:15000, bb:30000, ante:30000, mins:35, brk:false },
  { lv:21, sb:20000, bb:40000, ante:40000, mins:35, brk:false },
  { lv:22, sb:25000, bb:50000, ante:50000, mins:35, brk:false },
  { lv:23, sb:30000, bb:60000, ante:60000, mins:35, brk:true },
  { lv:24, sb:40000, bb:80000, ante:80000, mins:35, brk:false },
  { lv:25, sb:50000, bb:100000, ante:100000, mins:35, brk:false },
];
const LIVE_STATE = { currentLevelIdx:2, secondsLeft:1200, totalSeconds:2100, remaining:38, totalEntries:312, prizeLinePlayers:31, myChips:248000, avgChips:195000, maxChips:620000, myTable:7, mySeat:3 };

function fmt(n) { return n>=1000000?(n/1000000).toFixed(2)+'M':n>=1000?Math.round(n/1000)+'K':n.toLocaleString(); }
function fmtComma(n) { return n.toLocaleString(); }

function updateLiveClock() {
  const s = LIVE_STATE;
  const m = Math.floor(s.secondsLeft/60), sec = s.secondsLeft%60;
  const el = document.getElementById('liveClockText');
  if (el) el.textContent = `${String(m).padStart(2,'0')}:${String(sec).padStart(2,'0')}`;
  const pct = s.secondsLeft / s.totalSeconds;
  const offset = 175.9 * (1-pct);
  const arc = document.getElementById('liveClockArc');
  if (arc) arc.setAttribute('stroke-dashoffset', offset.toFixed(1));
  const arcColor = pct>0.5?'#7BB8FF':pct>0.2?'#FBBF24':'#EF4444';
  if (arc) arc.setAttribute('stroke', arcColor);
  if (el) el.style.color = arcColor;
}

function updateLiveUI() {
  const s = LIVE_STATE;
  const lv = LIVE_LEVELS[s.currentLevelIdx];
  const nextLv = LIVE_LEVELS[s.currentLevelIdx+1];
  const now = new Date();
  const el = document.getElementById('liveUpdateTime');
  if (el) el.textContent = now.toLocaleTimeString('ja-JP',{hour:'2-digit',minute:'2-digit',second:'2-digit'});
  const myTableEl = document.getElementById('liveMyTable');
  if (myTableEl) myTableEl.textContent = s.myTable;
  const mySeatEl = document.getElementById('liveMySeat');
  if (mySeatEl) mySeatEl.textContent = s.mySeat;
  const remEl = document.getElementById('liveRemaining');
  if (remEl) remEl.textContent = s.remaining;
  const plEl = document.getElementById('livePrizeLine');
  if (plEl) plEl.textContent = s.prizeLinePlayers;
  const itmEl = document.getElementById('liveItmStatus');
  if (itmEl) itmEl.textContent = s.remaining<=s.prizeLinePlayers ? 'ðŸ’° ITM ç¢ºå®š' : `ã‚ã¨ ${s.remaining-s.prizeLinePlayers} äºº`;
  const avgStackEl = document.getElementById('liveAvgStack');
  if (avgStackEl) avgStackEl.textContent = fmt(s.avgChips);
  const bbAvgEl = document.getElementById('liveBBAvg');
  if (bbAvgEl) bbAvgEl.textContent = (s.avgChips/lv.bb).toFixed(1);
  const lvEl = document.getElementById('liveLevel');
  if (lvEl) lvEl.textContent = `Level ${lv.lv}`;
  const sbEl = document.getElementById('liveSB');
  if (sbEl) sbEl.textContent = fmtComma(lv.sb);
  const bbEl = document.getElementById('liveBB');
  if (bbEl) bbEl.textContent = fmtComma(lv.bb);
  const anteEl = document.getElementById('liveAnte');
  if (anteEl) anteEl.textContent = fmtComma(lv.ante);
  if (nextLv) { const nextEl = document.getElementById('liveNextBlind'); if (nextEl) nextEl.textContent = `${fmtComma(nextLv.sb)} / ${fmtComma(nextLv.bb)} / ${fmtComma(nextLv.ante)}`; }
  const levelList = document.getElementById('liveLevelList');
  if (levelList) {
    const from = Math.max(0,s.currentLevelIdx-2), to = Math.min(LIVE_LEVELS.length-1,s.currentLevelIdx+4);
    let html = '';
    for (let i=from;i<=to;i++) {
      const l=LIVE_LEVELS[i], isCurrent=i===s.currentLevelIdx, isDone=i<s.currentLevelIdx;
      const cls=isCurrent?'current':isDone?'done':'upcoming';
      const tag=isCurrent?'<span class="live-level-tag now">NOW</span>':l.brk?'<span class="live-level-tag break">BREAK</span>':'';
      html+=`<div class="live-level-row ${cls}"><div class="live-level-lv">Lv.${l.lv}</div><div class="live-level-blinds">${fmtComma(l.sb)}/${fmtComma(l.bb)}/${fmtComma(l.ante)}</div><div class="live-level-time">${l.mins}åˆ†</div>${tag}</div>`;
    }
    levelList.innerHTML = html;
  }
  updateLiveClock();
}
let liveInited = false;
function startLive() {
  if (liveInited) return; liveInited = true; updateLiveUI();
  setInterval(() => {
    if (LIVE_STATE.secondsLeft>0) LIVE_STATE.secondsLeft--;
    else if (LIVE_STATE.currentLevelIdx<LIVE_LEVELS.length-1) { LIVE_STATE.currentLevelIdx++; LIVE_STATE.secondsLeft=LIVE_LEVELS[LIVE_STATE.currentLevelIdx].mins*60; LIVE_STATE.totalSeconds=LIVE_STATE.secondsLeft; }
    updateLiveClock();
    const el=document.getElementById('liveUpdateTime');
    if(el) el.textContent=new Date().toLocaleTimeString('ja-JP',{hour:'2-digit',minute:'2-digit',second:'2-digit'});
  }, 1000);
  setInterval(() => {
    const s=LIVE_STATE, elim=Math.floor(Math.random()*3);
    s.remaining=Math.max(s.prizeLinePlayers-2,s.remaining-elim);
    s.avgChips=Math.round(312*50000/s.remaining/1000)*1000;
    s.myChips=Math.max(10000,Math.round(s.myChips*(1+(Math.random()-0.45)*0.12)/1000)*1000);
    updateLiveUI();
  }, 30000);
}

// â”€â”€ POPUPS â”€â”€
function openRankPopup() { document.getElementById('rankPopupOverlay').classList.add('open'); }
function closeRankPopup() { document.getElementById('rankPopupOverlay').classList.remove('open'); }
function closeRankPopupOnBg(e) { if (e.target===document.getElementById('rankPopupOverlay')) closeRankPopup(); }
function openGameIDPopup() { document.getElementById('gidOverlay').classList.add('open'); drawGIDQR(); }
function closeGIDPopup() { document.getElementById('gidOverlay').classList.remove('open'); }
function closeGIDOnBg(e) { if (e.target===document.getElementById('gidOverlay')) closeGIDPopup(); }
function drawGIDQR() {
  const canvas=document.getElementById('gidQrCanvas'); if(!canvas) return;
  const size=144; canvas.width=size; canvas.height=size;
  const ctx=canvas.getContext('2d'), cells=29, cell=size/cells;
  ctx.fillStyle='#fff'; ctx.fillRect(0,0,size,size);
  const seed='85881022'; let h=0;
  for(let i=0;i<seed.length;i++) h=(Math.imul(31,h)+seed.charCodeAt(i))|0;
  const rng=(x,y)=>{let v=Math.imul(x*1664525+y*1013904223+h,1664525)>>>0;return(v>>>16)/65536;};
  ctx.fillStyle='#0B1222';
  const finder=(ox,oy)=>{ctx.fillRect(ox*cell,oy*cell,7*cell,7*cell);ctx.fillStyle='#fff';ctx.fillRect((ox+1)*cell,(oy+1)*cell,5*cell,5*cell);ctx.fillStyle='#0B1222';ctx.fillRect((ox+2)*cell,(oy+2)*cell,3*cell,3*cell);};
  finder(0,0);finder(cells-7,0);finder(0,cells-7);
  for(let y=0;y<cells;y++) for(let x=0;x<cells;x++){const inF=(x<8&&y<8)||(x>cells-9&&y<8)||(x<8&&y>cells-9);if(!inF&&rng(x,y)>0.48){ctx.fillStyle='#0B1222';ctx.fillRect(Math.round(x*cell),Math.round(y*cell),Math.ceil(cell),Math.ceil(cell));}}
}

// â”€â”€ RECEIPT â”€â”€
// Live Sub-Tabs
function switchLiveTab(tab){
  document.querySelectorAll('#liveSubTabs .rank-type-btn').forEach(b=>b.classList.toggle('active',b.dataset.ltab===tab));
  document.querySelectorAll('.live-sub-content').forEach(c=>{c.style.display=c.id==='ltab-'+tab?'block':'none';});
  if(tab==='players')renderLivePlayers();
}

// Live Players
const LIVE_PLAYERS=[
{name:'åŠ è—¤ å‰›',nameEn:'Takeshi Kato',city:'Tokyo',table:7,seat:3,me:true,rank:'S',entries:48,wins:3,itm:19,itmRate:39.6,prize:'$40,000',history:[{ev:'Main Event 2024',finish:'1st',prize:'+Â¥3,200,000'},{ev:'High Roller 2023',finish:'1st',prize:'+Â¥1,500,000'},{ev:'Spring 2024',finish:'12th',prize:'+Â¥48,000'}]},
{name:'ç”°ä¸­ ä¿Šä»‹',nameEn:'Shunsuke Tanaka',city:'Tokyo',table:2,seat:5,rank:'SS',entries:62,wins:6,itm:31,itmRate:50.0,prize:'$58,000',history:[{ev:'Main Event 2025',finish:'1st',prize:'+Â¥4,100,000'},{ev:'Crown 2024',finish:'2nd',prize:'+Â¥2,800,000'},{ev:'PPC 2024',finish:'1st',prize:'+Â¥1,200,000'}]},
{name:'å±±æœ¬ å¤§è¼',nameEn:'Daiki Yamamoto',city:'Osaka',table:3,seat:1,rank:'S',entries:55,wins:5,itm:24,itmRate:43.6,prize:'$49,000',history:[{ev:'Main Event 2023',finish:'1st',prize:'+Â¥3,600,000'},{ev:'GG1000 2024',finish:'3rd',prize:'+Â¥980,000'},{ev:'Deepstack 2024',finish:'5th',prize:'+Â¥120,000'}]},
{name:'ä½è—¤ å„ªèŠ±',nameEn:'Yuka Sato',city:'Nagoya',table:7,seat:8,rank:'S',entries:48,wins:4,itm:23,itmRate:47.9,prize:'$44,500',history:[{ev:'Crown 2025',finish:'1st',prize:'+Â¥5,200,000'},{ev:'Main Event 2024',finish:'5th',prize:'+Â¥420,000'},{ev:'Tag Team 2023',finish:'1st',prize:'+Â¥380,000'}]},
{name:'ä¸­æ‘ å¥å¤ª',nameEn:'Kenta Nakamura',city:'Fukuoka',table:1,seat:4,rank:'A',entries:70,wins:3,itm:28,itmRate:40.0,prize:'$36,500',history:[{ev:'PPC 2024',finish:'2nd',prize:'+Â¥880,000'},{ev:'Monsterstack 2024',finish:'1st',prize:'+Â¥520,000'},{ev:'Main Event 2023',finish:'8th',prize:'+Â¥72,000'}]},
{name:'å°æž— éº»è¡£',nameEn:'Mai Kobayashi',city:'Sapporo',table:5,seat:2,rank:'A',entries:41,wins:3,itm:18,itmRate:43.9,prize:'$33,200',history:[{ev:'Sapporo 2025',finish:'1st',prize:'+Â¥1,800,000'},{ev:'Builder 2024',finish:'3rd',prize:'+Â¥210,000'},{ev:'Warm-up 2024',finish:'1st',prize:'+Â¥95,000'}]},
{name:'æ¸¡è¾º æ‹“æµ·',nameEn:'Takumi Watanabe',city:'Tokyo',table:2,seat:9,rank:'A',entries:53,wins:2,itm:21,itmRate:39.6,prize:'$21,800',history:[{ev:'Nightstack 2024',finish:'1st',prize:'+Â¥440,000'},{ev:'Main Event 2024',finish:'14th',prize:'+Â¥38,000'},{ev:'Superstack 2023',finish:'2nd',prize:'+Â¥280,000'}]},
{name:'ä¼Šè—¤ é¥',nameEn:'Haruka Ito',city:'Kyoto',table:4,seat:6,rank:'A',entries:38,wins:2,itm:16,itmRate:42.1,prize:'$18,400',history:[{ev:'PLO Monster 2024',finish:'1st',prize:'+Â¥620,000'},{ev:'Mystery Bounty 2024',finish:'2nd',prize:'+Â¥380,000'},{ev:'Main Event 2024',finish:'22nd',prize:'+Â¥32,000'}]},
{name:'éˆ´æœ¨ èª ',nameEn:'Makoto Suzuki',city:'Osaka',table:6,seat:7,rank:'B',entries:66,wins:2,itm:25,itmRate:37.9,prize:'$16,700',history:[{ev:'Builder 2024',finish:'1st',prize:'+Â¥350,000'},{ev:'Main Event 2023',finish:'15th',prize:'+Â¥55,000'},{ev:'Deepstack 2023',finish:'4th',prize:'+Â¥140,000'}]},
{name:'æž— å¥ˆã€…',nameEn:'Nana Hayashi',city:'Tokyo',table:1,seat:2,rank:'B',entries:44,wins:2,itm:17,itmRate:38.6,prize:'$14,300',history:[{ev:'Tag Team 2024',finish:'1st',prize:'+Â¥240,000'},{ev:'Warm-up 2024',finish:'3rd',prize:'+Â¥68,000'},{ev:'PPC 2023',finish:'9th',prize:'+Â¥42,000'}]},
{name:'æ©‹æœ¬ æ‚ ',nameEn:'Yu Hashimoto',city:'Nagoya',table:3,seat:5,rank:'B',entries:35,wins:1,itm:14,itmRate:40.0,prize:'$9,200',history:[{ev:'Superstack 2024',finish:'1st',prize:'+Â¥280,000'},{ev:'Main Event 2024',finish:'28th',prize:'+Â¥22,000'},{ev:'Morning 2023',finish:'5th',prize:'+Â¥48,000'}]},
{name:'æœ¨æ‘ å½©',nameEn:'Aya Kimura',city:'Sendai',table:5,seat:9,rank:'B',entries:29,wins:1,itm:12,itmRate:41.4,prize:'$7,600',history:[{ev:'Nightstack 2023',finish:'1st',prize:'+Â¥190,000'},{ev:'Main Event 2023',finish:'31st',prize:'+Â¥18,000'},{ev:'Bigstack 2023',finish:'6th',prize:'+Â¥55,000'}]},
{name:'æ–Žè—¤ éš¼',nameEn:'Hayato Saito',city:'Sapporo',table:4,seat:1,rank:'B',entries:57,wins:1,itm:20,itmRate:35.1,prize:'$6,900',history:[{ev:'Last Party 2024',finish:'1st',prize:'+Â¥65,000'},{ev:'PPC 2024',finish:'11th',prize:'+Â¥38,000'},{ev:'Main Event 2024',finish:'30th',prize:'+Â¥22,000'}]},
{name:'æ¸…æ°´ è‘µ',nameEn:'Aoi Shimizu',city:'Tokyo',table:6,seat:3,rank:'B',entries:33,wins:1,itm:13,itmRate:39.4,prize:'$5,800',history:[{ev:'Heads-up 2024',finish:'1st',prize:'+Â¥160,000'},{ev:'Megastack 2024',finish:'4th',prize:'+Â¥88,000'},{ev:'Builder 2023',finish:'7th',prize:'+Â¥42,000'}]},
{name:'å²¡ç”° é¾',nameEn:'Ryu Okada',city:'Osaka',table:2,seat:3,rank:'C',entries:47,wins:0,itm:16,itmRate:34.0,prize:'$3,400',history:[{ev:'Main Event 2024',finish:'9th',prize:'+Â¥65,000'},{ev:'GG500 2024',finish:'5th',prize:'+Â¥120,000'},{ev:'Monsterstack 2023',finish:'8th',prize:'+Â¥42,000'}]},
{name:'è¥¿æ‘ ä¸ƒæµ·',nameEn:'Nanami Nishimura',city:'Fukuoka',table:1,seat:7,rank:'C',entries:25,wins:0,itm:10,itmRate:40.0,prize:'$2,700',history:[{ev:'Tag Team 2024',finish:'3rd',prize:'+Â¥95,000'},{ev:'Sapporo 2024',finish:'6th',prize:'+Â¥78,000'},{ev:'Warm-up 2023',finish:'4th',prize:'+Â¥32,000'}]},
{name:'æ¾æœ¬ é¢¯',nameEn:'Hayate Matsumoto',city:'Tokyo',table:3,seat:8,rank:'C',entries:61,wins:0,itm:21,itmRate:34.4,prize:'$2,500',history:[{ev:'Main Event 2024',finish:'18th',prize:'+Â¥32,000'},{ev:'Deepstack 2024',finish:'6th',prize:'+Â¥65,000'},{ev:'PPC 2023',finish:'14th',prize:'+Â¥28,000'}]},
{name:'çŸ³ç”° æ¢¨èŠ±',nameEn:'Rika Ishida',city:'Kyoto',table:5,seat:4,rank:'C',entries:19,wins:0,itm:8,itmRate:42.1,prize:'$1,600',history:[{ev:'PLO Kick-off 2024',finish:'2nd',prize:'+Â¥120,000'},{ev:'Morning 2024',finish:'3rd',prize:'+Â¥55,000'},{ev:'Main Event 2023',finish:'25th',prize:'+Â¥22,000'}]},
{name:'è—¤ç”° æµ·æ–—',nameEn:'Kaito Fujita',city:'Nagoya',table:4,seat:9,rank:'C',entries:42,wins:0,itm:13,itmRate:31.0,prize:'$1,400',history:[{ev:'Nightstack 2024',finish:'4th',prize:'+Â¥95,000'},{ev:'Superstack 2024',finish:'7th',prize:'+Â¥42,000'},{ev:'Main Event 2023',finish:'29th',prize:'+Â¥18,000'}]},
{name:'æ± ç”° æ¶¼',nameEn:'Ryo Ikeda',city:'Tokyo',table:6,seat:1,rank:'C',entries:36,wins:0,itm:11,itmRate:30.6,prize:'$1,100',history:[{ev:'Builder 2024',finish:'5th',prize:'+Â¥78,000'},{ev:'Tag Team Turbo 2024',finish:'3rd',prize:'+Â¥55,000'},{ev:'GG500 2023',finish:'6th',prize:'+Â¥42,000'}]}
];
function getInitials(n){const p=n.split(/\s+/);return p.length>=2?p[0][0]+p[1][0]:n.slice(0,2);}
function renderLivePlayers(filter){
  const list=document.getElementById('livePlayerList');if(!list)return;
  const q=(filter||'').toLowerCase();
  const filtered=LIVE_PLAYERS.filter(p=>!q||p.name.toLowerCase().includes(q)||p.nameEn.toLowerCase().includes(q));
  const sorted=[...filtered].sort((a,b)=>a.table-b.table||a.seat-b.seat);
  list.innerHTML=sorted.map((p,i)=>{
    const ini=getInitials(p.name);
    const rc={SS:'#7C3AED',S:'#D4A21B',A:'var(--blue)',B:'var(--green)',C:'var(--text-muted)'}[p.rank]||'var(--text-muted)';
    const you=p.me?'<span class="rank-you-badge" style="font-size:8px;padding:1px 5px">YOU</span>':'';
    return `<div class="lp-row${p.me?' is-me':''}" onclick="openPlayerStats(${LIVE_PLAYERS.indexOf(p)})"><div class="lp-avatar">${ini}</div><div style="min-width:0"><div class="lp-name">${p.name} ${you}</div><div class="lp-sub">${p.city} Â· <span style="color:${rc};font-weight:700">Rank ${p.rank}</span></div></div><div class="lp-table">${p.table}</div><div class="lp-seat">${p.seat}</div></div>`;
  }).join('');
  const c=document.getElementById('livePlayerCount');if(c)c.textContent=filtered.length+'å';
}
function filterLivePlayers(){renderLivePlayers(document.getElementById('livePlayerSearch').value);}
function openPlayerStats(idx){
  const p=LIVE_PLAYERS[idx];if(!p)return;
  const ini=getInitials(p.name);
  const rc={SS:'#7C3AED',S:'#D4A21B',A:'var(--blue)',B:'var(--green)',C:'var(--text-muted)'}[p.rank]||'var(--text-muted)';
  const fc=f=>f.includes('1st')?'var(--blue)':parseInt(f)<=10?'var(--green)':'var(--text-muted)';
  document.getElementById('playerStatsContent').innerHTML=`
    <div class="ps-header"><div style="display:flex;align-items:center;gap:14px;margin-bottom:14px"><div class="ps-avatar-lg">${ini}</div><div style="flex:1"><div style="font-family:var(--font-display);font-size:20px;font-weight:700;color:white;letter-spacing:0.5px">${p.name}</div><div style="font-size:11px;color:rgba(255,255,255,0.4);margin-top:2px">${p.nameEn} Â· ${p.city}</div></div><div style="background:${rc};padding:4px 10px;border-radius:8px;font-family:var(--font-display);font-size:14px;font-weight:800;color:white;letter-spacing:1px">${p.rank}</div></div>
    <div style="display:flex;gap:10px"><div style="flex:1;background:rgba(255,255,255,0.08);border-radius:12px;padding:10px;text-align:center;border:1px solid rgba(255,255,255,0.06)"><div style="font-family:var(--font-display);font-size:10px;letter-spacing:2px;color:rgba(255,255,255,0.35);margin-bottom:4px;font-weight:600">TABLE</div><div style="font-family:var(--font-display);font-size:28px;font-weight:800;color:white">${p.table}</div></div><div style="flex:1;background:rgba(255,255,255,0.08);border-radius:12px;padding:10px;text-align:center;border:1px solid rgba(255,255,255,0.06)"><div style="font-family:var(--font-display);font-size:10px;letter-spacing:2px;color:rgba(255,255,255,0.35);margin-bottom:4px;font-weight:600">SEAT</div><div style="font-family:var(--font-display);font-size:28px;font-weight:800;color:white">${p.seat}</div></div></div></div>
    <div class="ps-stats-grid"><div class="ps-stat"><div class="ps-stat-val" style="color:var(--blue)">${p.wins}</div><div class="ps-stat-lbl">å„ªå‹</div></div><div class="ps-stat"><div class="ps-stat-val" style="color:var(--green)">${p.itm}</div><div class="ps-stat-lbl">å…¥è³ž</div></div><div class="ps-stat"><div class="ps-stat-val">${p.itmRate}%</div><div class="ps-stat-lbl">ITMçŽ‡</div></div><div class="ps-stat"><div class="ps-stat-val">${p.entries}</div><div class="ps-stat-lbl">å‚åŠ æ•°</div></div><div class="ps-stat" style="grid-column:span 2"><div class="ps-stat-val" style="color:var(--green)">${p.prize}</div><div class="ps-stat-lbl">é€šç®—è³žé‡‘</div></div></div>
    <div style="padding:16px 20px 8px"><div class="ev-section-hd">æœ€è¿‘ã®æˆç¸¾</div></div>
    ${p.history.map(h=>`<div class="ps-history-item"><div class="ps-finish" style="color:${fc(h.finish)}">${h.finish}</div><div style="flex:1;min-width:0"><div style="font-size:13px;font-weight:600">${h.ev}</div></div><div style="font-family:var(--font-display);font-size:14px;font-weight:700;color:var(--green);flex-shrink:0">${h.prize}</div></div>`).join('')}`;
  document.getElementById('playerStatsOverlay').style.display='flex';document.body.style.overflow='hidden';
}
function closePlayerStats(){document.getElementById('playerStatsOverlay').style.display='none';document.body.style.overflow='';}

// Patch startLive to render players
const _origStartLive=startLive;
startLive=function(){_origStartLive();renderLivePlayers();};

function selectReceiptEv(el) { document.querySelectorAll('.receipt-ev-item').forEach(e=>e.classList.remove('active')); el.classList.add('active'); }
function generateReceipt() {
  const item=document.querySelector('.receipt-ev-item.active'); if(!item) return;
  const fee=parseInt(item.dataset.fee).toLocaleString(), ev=item.dataset.ev, date=item.dataset.date;
  const name=(document.getElementById('receipt-name').value||'').trim();
  const now=new Date(), issued=now.getFullYear()+'å¹´'+(now.getMonth()+1)+'æœˆ'+now.getDate()+'æ—¥';
  const nameEl=document.getElementById('rp-name'),samaEl=document.getElementById('rp-sama'),nameRow=document.getElementById('rp-name-row');
  if(name){nameEl.textContent=name;samaEl.textContent='æ§˜';nameRow.style.display='block';}else{nameRow.style.display='none';}
  document.getElementById('rp-amount').textContent=fee;
  document.getElementById('rp-ev').textContent=ev;
  document.getElementById('rp-date').textContent=date;
  document.getElementById('rp-issued').textContent=issued;
  document.getElementById('receipt-preview').style.display='flex';
}

// â”€â”€ CONTRACT â”€â”€
function showContractPage(n) {
  [1,2,3].forEach(i=>{const p=document.getElementById('contract-page-'+i);if(p)p.style.display=i===n?'block':'none';});
  if(n>=2){document.getElementById('cstep2dot').classList.add('active');document.getElementById('cline1').classList.add('done');}
  if(n>=3){document.getElementById('cstep2dot').classList.add('done');document.getElementById('cstep3dot').classList.add('done');document.getElementById('cline2').classList.add('done');}
}
function goContractSign() {
  if(!document.getElementById('contract-agree-cb').checked){alert('å¥‘ç´„å†…å®¹ã«åŒæ„ã—ã¦ãã ã•ã„');return;}
  showContractPage(2);
  document.getElementById('contract-date').value=new Date().getFullYear()+'å¹´'+(new Date().getMonth()+1)+'æœˆ'+new Date().getDate()+'æ—¥';
  initSignCanvas();
}
function submitContract() {
  const now=new Date();
  document.getElementById('contract-submitted-at').textContent=now.getFullYear()+'.'+String(now.getMonth()+1).padStart(2,'0')+'.'+String(now.getDate()).padStart(2,'0')+' '+now.toLocaleTimeString('ja-JP',{hour:'2-digit',minute:'2-digit'});
  showContractPage(3);
}

// â”€â”€ SIGN CANVAS â”€â”€
let signCtx=null, signing=false;
function initSignCanvas() {
  const canvas=document.getElementById('signCanvas'); if(!canvas) return;
  signCtx=canvas.getContext('2d'); signCtx.strokeStyle='#0B1222'; signCtx.lineWidth=2; signCtx.lineCap='round';
  const getPos=(e)=>{const r=canvas.getBoundingClientRect();const t=e.touches?e.touches[0]:e;return{x:(t.clientX-r.left)*(canvas.width/r.width),y:(t.clientY-r.top)*(canvas.height/r.height)};};
  canvas.onpointerdown=(e)=>{signing=true;const p=getPos(e);signCtx.beginPath();signCtx.moveTo(p.x,p.y);};
  canvas.onpointermove=(e)=>{if(!signing)return;const p=getPos(e);signCtx.lineTo(p.x,p.y);signCtx.stroke();};
  canvas.onpointerup=()=>{signing=false;};
  canvas.onpointerleave=()=>{signing=false;};
}
function clearSign() { if(signCtx){const c=document.getElementById('signCanvas');signCtx.clearRect(0,0,c.width,c.height);} }
</script>
</body>
</html>
